执行环境提供了运行应用软件所需的运行时服务，包括内存管理、文件系统访问、网络连接等，这些服务大部分是由操作系统来提供的。
![](asserts/Pasted%20image%2020250704151754.png)

**执行环境** (Execution Environment) 是一个内涵很丰富且有一定变化的术语，

- 它主要负责**给在其上执行的软件提供相应的功能与资源**，并可在计算机系统中形成多层次的执行环境。
- 对于现在**直接运行在裸机硬件 (Bare-Metal) 上的操作系统**，其执行环境是 _**计算机的硬件**_ 。
- 在第二个阶段，应用程序的执行环境就变成了 _函数库(通用的调用形成的)_ -> _计算机硬件_ ，而这时函数库的执行环境就是计算机的硬件。
![](asserts/Pasted%20image%2020250901205215.png)
- 在第三个阶段，应用程序的执行环境就变成了 _函数库_ -> _操作系统内核_ -> _计算机硬件_ 。
    - 再进一步，操作系统取代了函数库来访问硬件，函数库通过访问操作系统的系统调用服务来进一步给应用程序提供丰富的功能和资源。
- 其他
    - Java： _函数库_ -> _Java 虚拟机_ -> _操作系统内核_ -> _计算机硬件_ 。
    - _云计算：函数库_ -> _Java 虚拟机_ -> _操作系统内核_ -> _Hypervisor/VMM_ -> _计算机硬件_ 。
- 另外，CPU在执行过程中，可以在不同层次的执行环境之间切换，这称为 **执行环境切换** 。执行**环境切换主要是通过特定的 API 或 ABI 来完成的**，这样不同执行环境的软件就能实现数据交换与互操作，而且还保证了彼此之间有清晰的隔离。
![](asserts/Pasted%20image%2020250901205245.png)
对于应用程序的执行环境而言，**应用程序只能看到执行环境直接提供给它的接口（API 或 ABI）**，这使得应用程序所能得到的**服务取决于**执行环境提供给它的**访问接口**。

- 所以，**操作系统可以看成是应用程序执行环境，其形态可以是一个库，也可以是一个虚拟机等，或者它们的某种组合形式。**比如， 手机上的 **Android操作系统** 是 Android 应用程序的执行环境，它包括了库形态的 Framework 层，执行 Java 程序的虚拟机层，与操作系统交互的系统类 C 库和 Linux kernel。运行在服务器上的 **麒麟服务器操作系统** 、 **openEuler 服务器操作系统** 、 **龙蜥服务器操作系统** 、 **RHEL-RedHat 服务器操作系统** 是各种服务器应用软件， 如Web Server 应用、数据库等的执行环境，这些操作系统都包含了与操作系统交互的系统类 C 库、Java 虚拟机、容器系统、VMM 虚拟机系统等和Linux kernel。

执行环境

**执行环境（Execution Environment）**是指应用程序在运行过程中所依赖的服务与管理机制的集合，它确保程序能够正确运行。执行环境不仅仅提供“运行”的硬件条件，还包括操作系统层、运行时库、资源管理器、约束规则等。

其核心作用可归纳为：

1. **服务支持**  
    提供应用程序运行所需的系统调用、库函数、内存管理机制、I/O 服务等。
    - 例如：C 程序依赖 C 标准库与操作系统系统调用，Rust 程序在 `std` 环境下依赖标准库与 OS API。

2. **数据与资源管理**  
    管理应用程序的内存、文件、网络连接、线程/进程等资源，确保资源分配、释放和隔离。
    - 例如：垃圾回收器（Java）、所有权系统（Rust）。
    
3. **生命周期管理**  
    控制应用程序的启动、执行与终止，以及在运行期间的调度与异常处理。
    - 例如：JVM 控制 Java 程序生命周期；操作系统内核管理进程的调度与退出。
    
4. **行为限制范围**  
    定义应用程序的权限与可访问范围，防止越权操作。
    - 例如：操作系统的用户权限模型，容器（Docker）的沙箱环境，WebAssembly 的安全沙盒。
