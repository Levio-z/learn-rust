### ABI定义
- 应用程序与系统（OS/硬件）之间的 **二进制层接口规范**，涉及函数调用、内存布局、参数传递、系统调用约定等
	- 例子：函数调用约定（如 syscall 用哪个寄存器传参数）、结构体字段顺序、ELF 格式


#### 内容
以 Linux RISC-V 为例，ABI 会定义：
- 系统调用编号（如 `SYS_write = 64`）
- 系统调用参数：分别放到 `a0~a5` 寄存器中
- 系统调用返回值：放 `a0`
- 调用方式：使用 `ecall` 指令触发陷入
- 错误处理：约定负值返回时，表示错误码（如 `-1` 是 `EPERM`）
### API vs ABI 
- **API**：应用程序编程接口 API 是不同**源代码片段的连接纽带**。API 定义了一个源码级（如 C 语言）函数的参数，参数的类型，函数的返回值等。因此 API 是用来**约束编译器** (Compiler) 的：一个 API 是给编译器的一些指令，它规定了源代码可以做以及不可以做哪些事。**API 与编程语言相关**，如 libc 是基于 C 语言编写的标准库，那么基于 C 的应用程序就可以通过编译器建立与 libc 的联系，并能在运行中正确访问 libc 中的函数。
- **ABI**：应用程序二进制接口 ABI 是**不同二进制代码片段的连接纽带**。ABI 定义了二进制机器代码级别的规则，主要包括基本数据类型、通用寄存器的使用、参数的传递规则、以及堆栈的使用等等。**ABI 与处理器和内存地址等硬件架构相关**，是用来**约束链接器 (Linker) 和汇编器 (Assembler)** 的。在同一处理器下，基于不同高级语言编写的应用程序、库和操作系统，如果遵循同样的 ABI 定义，那么它们就能正确链接和执行。