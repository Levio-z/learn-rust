> 参考：https://zh.cppreference.com/w/cpp/io/c/std_streams
> cstdio:[4 cstdio标准头文件](../../Chatgpt/io%20和格式化/4%20cstdio标准头文件.md)
> 缓存机制：[6 C++缓存机制详解](../../Chatgpt/io%20和格式化/6%20C++缓存机制详解.md)
### 定义
在程序启动时，C/C++ 运行时会自动为你打开这三个标准文本流（text stream）：

|宏名|类型|含义|默认缓冲模式|用途|
|---|---|---|---|---|
|`stdin`|`FILE*`|标准输入流|**可能全缓冲**|从终端、文件中读取输入|
|`stdout`|`FILE*`|标准输出流|**可能全缓冲**|向终端、文件中输出结果|
|`stderr`|`FILE*`|标准错误流|**无缓冲（unbuffered）**|输出错误或诊断信息，实时输出|

交互式设备的构成是由实现定义的。

### 启动时的缓冲策略：
- 尽管 POSIX 没有强制要求，但 UNIX 约定是，如果与终端相关联，则 `stdin` 和 `stdout` 是行缓冲的，而 `stderr` 是无缓冲的。

> **交互设备**是否是终端、控制台，这取决于操作系统及实现（implementation-defined）。
- 若文件流关联的是**非交互设备（如文件）**，`stdin` 和 `stdout` 默认是**全缓冲**
- 若流关联的是**交互设备（如终端）**，它们会改为**行缓冲**。
- `stderr` 一律是**无缓冲**，便于**立即输出错误信息**。

### 📖 二、标准的定义与机制

#### 1\. 所在头文件：

```cpp
#include <cstdio> // C 风格 I/O 定义于此
```

#### 2\. 宏定义：

```cpp
#define stdin  /* implementation-defined */
#define stdout /* implementation-defined */
#define stderr /* implementation-defined */
```

这些宏在展开时的类型是 `FILE*`，即 C 的标准 I/O 类型，内部封装了文件描述符、缓冲区、模式等信息。

