> **x 值**（将亡值，"eXpiring value"）是一种**glvalue**，表示一个对象，其资源可以被**复用**或**移动**，通常用于**转移所有权**或**避免拷贝**的上下文中。

---

## ✅ 举个例子：

```cpp
std::string str = "hello";
std::string moved = std::move(str); // std::move(str) 是 xvalue
```

-   `std::move(str)` 返回的是一个 **xvalue**
    
-   它有对象身份（是 glvalue），但即将过期
    
-   资源可以“搬走”，而不是复制（避免多余堆分配）
    

---

## 🔷 xvalue 的关键特征

| 特征 | 说明 |
| --- | --- |
| 是 glvalue | 有身份、可以取地址、是可定位对象 |
| 非 lvalue | 不具备“持久引用语义”，不能持久存储值 |
| 支持移动语义 | 常作为 `T&&` 绑定源，被移动构造/赋值 |
| 临时性强 | 表达式生命周期结束后，其内容不可再用 |
| 典型场景 | `std::move(x)`、函数返回右值引用、容器中 `std::vector<int>().begin()` |

---

## 🔶 常见 xvalue 示例代码

| 表达式 | 类型 | 说明 |
| --- | --- | --- |
| `std::move(x)` | xvalue | 显式将 lvalue 转为 xvalue |
| `std::string&& s = std::move(str)` | xvalue 初始化 | 移动构造 |
| `std::vector<int>().begin()` | xvalue | 临时对象的成员函数 |
| `std::array<int, 3>{}[0]` | xvalue | 数组临时对象的元素访问 |

---

## 🔄 和其他值类别对比（核心）

| 值类别 | 是 glvalue？ | 有资源身份？ | 会被移动？ | 举例 |
| --- | --- | --- | --- | --- |
| **lvalue** | ✅ 是 | ✅ 有 | ❌ 否（默认复制） | 变量名、左值引用 |
| **xvalue** | ✅ 是 | ✅ 有 | ✅ 是（移动语义） | `std::move(x)` |
| **prvalue** | ❌ 否 | ❌ 无 | ✅ 是（可物化） | `1+2`, `std::string("hi")` |

---

## 🧠 拓展：xvalue 的“存在意义”

> C++ 引入 xvalue（C++11）是为了解决 **资源转移（move）** 场景下的表达能力问题。

如果只区分 lvalue / rvalue，是无法表达“一个有身份，但将被搬空的对象”的。

xvalue 正好补上这块空白，成为移动语义的核心载体。