
 本课中，将讨论在Hello world程序中使用的std::cout。使用它输出文本Hello world！到控制台。此外，讲解如何使用std::cin，如何从用户获得输入，使程序更具交互性。
### 输入输出库
输入/输出库（io库）是C++标准库中处理基本输入和输出的一部分。使用该库中的功能从键盘获取输入，并将数据输出到控制台。iostream的io部分表示输入（input）/输出（output）。

使用iostream库中定义的功能，需在代码文件顶部引入对应的头文件。
```C++
#include <iostream>

// 后续的代码可以使用iostream的函数
```

###  std::cout缓冲
想象在游乐园坐过山车的场景。乘客出现（以可变速度）排队。列车定期到达并登机（达到列车最大容量）。当列车满载，或时间推移时，列车与一批乘客一起出发，骑乘开始。不能登上当前列车的乘客要等待下一班列车。

这类似于C++中如何处理发送到std::cout的输出。程序中的语句请求将输出发送到控制台。该输出不会立即发送到控制台。而是，请求的输出“进入队列”，并存储在预留的内存区域（称为缓冲区）中。定期刷新缓冲区的数据输出到控制台。

意味着，如果程序在刷新缓冲区之前崩溃、中止或暂停（例如，出于调试目的），缓冲区内到数据不会输出到外部。

>缓冲输出的反义词是无缓冲输出。对于无缓冲输出，每个单独的输出请求直接发送到输出设备。
>**将数据写入缓冲区通常很快，而将数据传输到输出设备则相对较慢。当存在多个输出请求时，缓冲可以最大限度地减少需要执行的慢速传输的数量，显著提高性能。**

### std::endl vs “\n”
相比于输出"\n"换行,用std::endl有点低效。因为它实际上执行两项工作：**将光标移动到控制台的下一行，并刷新缓冲区**。当文本写入控制台时，通常不会刷新每行末尾的缓冲区。系统定期刷新更有效。

因此，首选用"\n"字符。"\n"字符将光标移动到控制台下一行，但不刷新缓冲区。

下面是以两种不同方式使用"\n"的示例：

```C++
#include <iostream>

int main()
{
    int x{ 5 };
    std::cout << "x is equal to: " << x << "\n"; // 单独使用"\n"
    std::cout << "And that's all, folks!\n";     // 将"\n"放置在要输出到字符串尾巴上
    return 0;
}
```
打印：
```C++
x is equal to: 5
And that's all, folks!
```

### std::cin
std::cin是iostream库中另一预定义变量。std::cout使用插入操作符（«）将数据打印到控制台，**std:∶cin（代表字符输入, character input）使用提取操作符（»）从键盘读取输入**。输入存储在变量中

```C++
#include <iostream>

int main()
{
    std::cout << "Enter a number: ";

    int x{ };
    std::cin >> x; // 从键盘中读取一个数字，并保存到变量x中

    std::cout << "You entered " << x << std::endl;
    return 0;
}
```
编译此程序并运行它。程序运行时，第5行将打印"Enter a number: “。到第8行时，等待输入。输入一个数字（并按enter），输入的数字赋值给变量x。第10行，程序打印"You entered “，和刚才输入的数字。

例如（输入了4）：
```C++
Enter a number: 4
You entered 4
```
这是一种从用户获得键盘输入的简单方法，后面许多示例也会使用。

正如可在单行中输出多个文本位一样，也可在单行中输入多个值：
```C++
#include <iostream>

int main()
{
    std::cout << "Enter two numbers separated by a space: ";

    int x{ };
    int y{ };
    std::cin >> x >> y; // 读入两个数字并且按顺序在变量x和y中

    std::cout << "You entered " << x << " and " << y << std::endl;

    return 0;
}
```
输出：
```C++
Enter two numbers separated by a space: 5 6
You entered 5 and 6
```

以后课程中会讨论std::cin如何处理无效输入。现在，只需知道std::cin尽可能多提取，且无法提取的输入字符将在后续提取。
## 总结

新手通常会混淆std::cin、std::cout、插入操作符（«）和提取操作符（»）。一种简单的记忆方法：

1. std::cin和std::cout始终位于语句的左侧。
2. std::cout用于输出值（cout=字符输出）
3. std::cin用于获取输入值（cin=字符输入）
4. «与std::cout一起使用，并显示数据移动的方向（如果std::cout表示控制台，则输出数据从变量移动到控制台）。std::cout « 4将值4移动到控制台
5. >>与std::cin一起使用，并显示数据移动的方向（如果std::cin表示键盘，则输入数据从键盘移动到变量）。std::cin » x将用户输入值从键盘移动到x中