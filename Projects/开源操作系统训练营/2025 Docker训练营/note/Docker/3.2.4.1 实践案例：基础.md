我们现构建一个装有 ping, curl 等指令的 nginx 镜像，方便我们在容器内容观察网络行为。
  nginx是目录，下面有
```
FROM nginx:alpine

  

# 安装 curl

RUN apk update && apk add --no-cache curl

  

# 保留原始镜像的默认配置

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

```shell

# 构建 nginx 镜像

docker build -t my-nginx nginx

```
  

```shell

# 查看默认 bridge 网络信息

docker network inspect bridge

  

# 启动两个容器

docker run -d --name container1 my-nginx

docker run -d --name container2 my-nginx

  

# 查看容器的网络配置

docker inspect container1 -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}'

docker inspect container2 -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}'

  

# 进入容器1，尝试通过 IP 访问容器2

docker exec -it container1 curl http://172.17.0.3

  

# 注意：在默认 bridge 网络中，无法通过容器名称访问

docker exec -it container1 curl http://container2  # 这将失败

```

  

Docker 默认的 bridge 网络存在通信限制：容器间只能通过易变的 IP 地址互相访问，无法使用固定的容器名称进行通信。

这种 IP 依赖会导致服务地址变更时需要人工调整配置，增加维护成本。通过创建自定义 bridge 网络，**容器可通过稳定的名称直接互访，这种自动化的服务发现机制正是 Docker Compose 实现容器编排的基础**——编排工具会自动创建专用网络，

使多容器应用能够通过服务名称维持稳定的通信链路。