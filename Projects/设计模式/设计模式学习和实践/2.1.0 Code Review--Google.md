### 为什么国内企业不重视 Code Review？

Google 在 Code Review 方面做得非常好，可以说是很多公司学习的榜样。
从我个人的经历来说，我的技术成长相当大的一部分得益于当年在 Google 的 Code Review。
缺少技术文化传承,表象是缺少技术文化传承
- 国内的大部分公司都不怎么接受 Code Review，在开发中，根本没有 Code Review 的流程。
- 传承
	- 用 996 作类比，如果 BAT 这些比较有技术影响力的公司，内部对 Code Review 很认可，执行得非常好，从这些公司往外输出的工程师，就会像我一样，大力传播 Code Review。星星之火可以燎原，慢慢地，整个技术圈就会接受并且推行 Code Review 了。
	- 只要是被 Google 工程师带领过的团队，在开发流程中严格执行过 Code Review 的团队，对 Code Review 都无比认可。
- 很多人不认可、不推行 Code Review，最直接的原因还是没有经历过 CodeReview，没有有经验的人来带。
经验之谈
- 如果站在团队协作的角度来看，对于一个长期维护、多人参与、代码比较多的项目来说，代码的可读性、可维护性等与质量相关的问题，是非常重要的。
- 在入职一段时间后，来来回回经过多次 Code Review 之后，我的代码质量整体提高了很多，被 Review 出的问题也越来越少了，我也切身地体会到 Code Review 的好处。因此，慢慢地，对这件事，我从排斥变得认可。与此同时，我也慢慢地开始 Review 别人的代码了。

### Google 是如何进行 Code Review 的
- Code Review 过程
	- 每次提交的代码片段叫做一个 CL，全称是 Change List
	- 每个 CL 都要至少一个 Owner 和一个具有Readability 的同事 Approve，才能提交到代码仓库中。
		- 解释：
			- 其中，Owner 一般都是技术Leader 或者项目负责人，
			- 而 Readability 是一个证书，表示你具有了写出可读代码、符合编码规范代码的能力。
				- 如果你想申请某种语言的 Readability，你就要提交一段至少包含 100 行代码、并且稍微有点复杂的 CL 给 Readablity 评审委员会。
					- 评审委员会会指派一个资深工程师 Review 你的代码，给你一些修改建议，然后，你需要根据修改建议对代码进行修改，再提交 Review。这样来来回回几次之后，他觉得没问题了，就会给你颁发 Readability。
- 细节
	- 规范：
		- 在 Google，每种编程语言都有对应的编码规范。但是，Code Review 本身并没有统一的Check list。在 Code Review 的时候，除了编码规范可以参考之外，大部分都是靠工程师自身的经验来 Review。
	- 规则：
		- 代码结构是否合理、代码是否容易理解、业务是否正确、异常考虑是否全面、是否有隐藏的 bug、线程是否安全、性能是否满足业务需求、是否符合编码规范等等。
	- 时间：
		- Code Review 听起来很复杂，要考虑的点很多，但实际上，等到你做熟练了之后，并不会花费太长的时间。一个 CL 从提交 Review 到最终合并到代码仓库，一般也就需要一天的时间。当然，对于一些比较大的 CL、比较复杂的 CL、有比较多争议的 CL，以及一些新手的CL，可能会花费比较多的时间。
		- 但是，大部分情况下，我们都不提倡太大的 CL。太大的 CL 对代码审查者来说是很大的负担，Review 过程会很慢，会导致代码迟迟提交不上去。
	- 复杂的CL：
		- **对于比较复杂的 CL，我们一般建议要写好文档**，或者通过类似 Jira 这样的项目工具，详细描述 CL 的前因后果、上下文背景。这样，代码审查者就能一眼看懂代码包含的设计意图。**对于争议比较多的 CL，我们建议直接当面沟通**，这样也更加有效率。**对于一些新手的 CL，因为他们对编码规范等不熟练，可能来来回回要改好几次，才能满足要求，但这个过程是每个新人都要经历的，多改几次就好了**。
	

	