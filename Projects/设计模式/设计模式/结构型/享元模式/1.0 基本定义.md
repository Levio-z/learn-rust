### 概念
#### 1.1 定义
运用共享技术有效地支持大量细粒度对象的复用，目标是减少内存使用，提高性能。复用对象，节省内存，前提是享元对象是不可变对象。
#### 1.2 核心要点

|概念|说明|
|---|---|
|**享元（Flyweight）**|可共享的对象（通常是不可变的）。|
|**享元工厂（FlyweightFactory）**|创建并管理享元对象，实现对象复用。|
|**内部状态（Intrinsic State）**|可共享的、不随场景变化的状态，通常保存在享元对象中。|
|**外部状态（Extrinsic State）**|不可共享的、随场景变化的状态，由客户端传入。|
#### 1.3 使用前提
- 系统中有大量相似对象。
- 对象中的状态大部分是相同的，仅少部分变化。
- 对象是**不可变对象（immutable）**。
	- 一旦构造出来后，内部状态不可变，不能暴露set等修改内部状态的方法
#### 1.4 具体使用
- 相同对象：利用享元模式将对象设计成享元，在内存中只保留一份实例，供多处代码引用。
- 相似对象：我们也可以将这些对象中相同的部分（字段）提取出来，设计成享元，让这些大量相似对象引用这些享元。
### 1.5 注意事项
享元对java回收不友好，因为一直保存对象的引用，对象在没有任何代码使用的情况下，也并不会被jvm自动垃圾回收。