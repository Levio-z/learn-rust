---
tags:
  - misc
---
## 1. 核心观点  
### Ⅰ. 概念层

### Ⅱ. 应用层




### Ⅲ. 实现层

### **IV**.原理层


## 2. 背景/出处  
- 来源：
- 引文/摘要：  
  - …  
  - …  

## 3. 展开说明  
##### 1. 审视系统中重复的代码，重复的逻辑

- 重构目标：重构整个CLI项目，主要解决系统中存在的重复代码和重复逻辑问题
- 具体措施：
    - 构建CLI executor trait来统一处理子命令
    - 使用enum dispatch技术减少match enum的重复代码
    - 将重复逻辑重构进系统标准trait中


##### 2. 当前代码问题分析

- 问题表现：
    - 每添加新command就需要在main函数中添加大块代码
    - 随着子命令增多，main函数会变得冗长难读
    - UI逻辑和业务逻辑混合在一起
- 不良影响：
    - 代码可维护性差
    - 添加新功能时需要修改大量代码
    - 代码可读性降低

##### 3. 解决方案设计

- 核心思路：
    - 每个subcommand本质上都是在执行某个操作
    - 可以设计统一的executor trait来规范这种行为
- 实现方式：
    - 定义CLI executor trait
    - 让每个子命令实现这个trait
    - 使用enum dispatch技术优化匹配逻辑
- 预期效果：
    - 屏蔽实现细节
    - 简化新功能添加流程
    - 提高代码可读性和可维护性

##### 4. 第一周小结与作业

- 作业内容：
    - 实现JWT生成和验证CLI
    - 支持参数：sub/aud/exp等
    - 要求生成的jwt可通过jwt.io验证
- CLI使用示例：
    - 生成：rcli jwt sign -sub acme --aud devicel --exp 14d
    - 验证：rcli jwt verify -t `<token-value>`
- 技术要点：
    - 掌握trait设计模式
    - 理解enum dispatch技术
    - 熟悉JWT标准实现
### 总结



## 4. 与其他卡片的关联  
- 前置卡片：
- 后续卡片：
- 相似主题：

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
