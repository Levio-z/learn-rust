### 什么是分布式系统
![](../asserts/Pasted%20image%2020250708174721.png)

- 互联网连接很多客户端、服务器（包括数据中心：本身就是分布式系统，通过内部网络连接），很多计算机通过网络连接，从非正式的角度来说
- 分布式系统是多个计算机通过网络连接，他们只通过发送和接收数据包进行交互吗，（而不是多处理器，通过共享内存进行交互）
> 1. **Client（客户端）**：这是系统的用户界面，用户通过客户端与系统交互。在分布式系统中，客户端可以是任何类型的设备，如个人电脑、手机、平板等。
> 2. **Internet（互联网）**：客户端通过互联网与分布式系统的其他部分通信。**互联网是连接客户端和服务器的网络基础设施。**
> 3. **Servers（服务器）**：**这些是分布式系统中的核心计算节点，负责处理客户端的请求、执行计算任务、存储数据等**。服务器可以是物理服务器或虚拟服务器。
> 4. **Databases（数据中心）**：服数据中心是物理设施，通常包含大量的服务器、存储设备和网络设备，它们共同为分布式系统提供计算和存储资源。**数据中心可能分布在不同的地理位置，以提高系统的可靠性和容错能力。**
> 5. **Multiple Networked Computing Computers（多台联网计算机）**：这指的是分布式系统中的多个服务器，它们通过网络连接在一起，共同协作以提供服务。这些服务器可能分布在不同的地理位置，但通过网络连接在一起，形成一个统一的系统。


分布式系统的交互性：你可能正在使用一些客户端，Zoom客户端，在Zoom客户端的背后，有巨大的数据中心或多个数据中心，来支持这个分布式应用，从某些方面来说，我们不会有这些zoom的课程，如果没有分布式系统。所以，他们通常作为基础设置的主干，来支持应用程序。
​
### 分布式系统为什么有趣或主要作用是什么？
- 用来连接物理上分离的机器，从而产生共享
	- 关系到我们所有人，同门通过笔记本电脑等终端设备连接服务器，他们可能在完全不同的地方，这就是你关心分布式系统的基本原因，因为你有两台物理空间上分隔的机器，你想连接它们。一旦他们连接起来，还有一个好处，允许用户的共享。我们连接到同一台计算机，那么我们就可以共享数据了，这使各种合作成为可能。无论是文件共享、屏幕、还是共享基础设置，这是非常重要的原因。
- 通过并行提高性能 (increase capacity though parallelism)
	- 例子
		- mapreduce
		- 很多Zoom会话同时进行，Zoom必须支持，他需要大量的计算机来提高性能，来支持所有并行的会话
- 容忍错误(tolerate faults)
	- 因为计算机可能在物理上是分隔的，一部分宕机，不希望影响服务，以便始终能够提供服务可以获得高可用性。我们把它作为这门课的一个重要主题。
- 通过隔离获取安全性(achieve security via isolation)
	- 例如，有个非常敏感的服务，用来管理你的客户的密码，用来登录到服务，你肯定想保护那台机器，不与任何其他人分享或不与任何其他程序分享，在它上面运行任何应用程序，所以你对这台机器要有很少的接口，让你得到更好的安全性，你只需要保护一个小的接口。所以，把东西放在不同机器上，进行隔离。是获得安全性的第一步。
### 分布式系统历史背景

- 局域网分布式系统的服务 (1980s)
    - 随着局域网的出现开始的，比如MIt有校园网，连接到工作站，比如Athema集群，服务器，比如AFS，那是一种典型的分布式系统。当时没有大规模的互联网个应用，互联网规模的分布式系统主要是DNS（域名服务系统）、email，我们仍然在使用。

现在有了很大的不同，自1980s来，分布式系统的重要性大大增加了。有一点很重要，就是数据中心。

80年代，政府或国会，允许互联网上的商业行为。然后导致了繁荣，开始有大型网站，为大量用户提供支持。
- 数据中心 (Data center)，是与大型网站相伴而生 (1990s)
    - 常见的有网页搜索（爬虫实现，然后需要建立大量倒排索引）
    - 商城购物系统（海量商品、订单、用户信息等数据）
一个是巨大的数据集，使用索引来支持网络搜索，将互联网上的所有网页写入索引，意味着爬取所有的网页，然后计算倒排索引。然后你可以把它用在搜索引擎上。这是海量的数据，不能放在一台计算机上。执行一次索引的计算量，对于一台计算机来说太多了。所以数据中心应运而生。把大量的数据放到数据中心，支持各种用户

二是大量的用户，需要有大量的机器支持用户，大量的创新，如mapreduce，整个事情加速发展，知道云计算出现。

- 云计算 (Cloud computing) (2000s)  
    - 客户或用户，将计算和数据转移到数据中心，很多大g公司，不是在本地运行程序，而是在云上运行。数据中心进一步增长。客户将计算转为云计算，运行自己的大量啊的网站，自己进行大量的计算，机器学习有很大的数据集，用户想自己建立大规模的分布式系统。云提供商，开始建设大量的基础设施。允许其他人向上扩展他们的分布式系统到大量机器上。实现高并行，高性能，并存储大量数据
    - 随着数据中心的出现，这一步进一步加快，一开始只是为内部服务提供，随着云计算的兴起，这些服务变成了其他人使用的公共服务。所以，突然有了很多基础设置，有很好的文档和可用性。
- 如今
	- 也是非常活跃的研究区域，如此活跃，也如此困难。跟上发展是很困难的。即使这门课也需要花费整个学期来学习分布式系统。我们只能看到所有东西中的一小部分，所有人们已经在实践中建立的分布式系统。早期建立系统的人，他们写下了论文，我们可以读这些论文。由面临大规模分布式系统的挑战的人们发表的。我们可以看到他们如何解决，并从中学习。
- 回顾40年，分布式系统的重要性有了巨大的涨幅。在研究领域和开发领域蓬勃发展。
### 分布式系统的挑战
>为什么这么难，值得花费一个学期来学习

- 很多并发的部分
	- 2000台机器处理同一个问题，所有有很多并发。  因为系统中存在很多部分，这些部分又在并发执行，很难理解为什么事情是正确的。你会遇到并发编程和各种复杂交互所带来的问题，以及时间依赖的问题（比如同步，异步）。这让分布式系统变得很难。
- **需要处理故障/宕机问题 (must deal with partial failure)**
	- 另一个导致分布式系统很难的原因是，分布式系统有多个组成部分，再加上计算机网络，你会会遇到一些意想不到的故障。如果你只有一台计算机，那么它通常要么是工作，要么是故障或者没电，总的来说，要么是在工作，要么是没有工作。故障其他计算机可能接管发生故障机器的一些负载。
	- 部分故障让事情变得更难：一个系统认为系统另一个部分出现故障，但其实并非如此，所以两边的分布式系统继续计算，可能与客户端交互，可能与一组客户端交互，客户端可以同时访问两部分，但是两部分之间不能互相访问，这就是所谓的脑裂。
	- 这让分布式系统协议设计变得很复杂，这是某种深层次的智力问题，然后就我发现各种挑战的方面。要实现性能优势是很苦难的。
	很难实现性能好处 （tricky realize the performance benefits）
	- 最后一个导致分布式系统很难的原因是，人们设计分布式系统的根本原因通常是为了获得更高的性能，比如说一千台计算机或者一千个磁盘臂达到的性能。但是实际上一千台机器到底有多少性能是一个棘手的问题，这里有很多难点。所以通常需要倍加小心地设计才能让系统实际达到你期望的性能。
