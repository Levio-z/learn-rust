我们刚说了，递归有利有弊，利是递归代码的表达⼒很强，写起来⾮常简洁；⽽弊就是空间复杂度⾼、有堆栈溢出的⻛险、存 在重复计算、过多的函数调⽤会耗时较多等问题。所以，在开发过程中，我们要根据实际情况来选择是否需要⽤递归的⽅式来实现。

```
public int f(int n) { 
if (n == 1) return 1;
if (n == 2) return 2; 
int ret =0;
int pre =2;
int prepre=1;
for(int i =3;i<=n;i++){
	ret = prepre+pre;
	prepre =pre;
	ret = pre;
}
return ret;
}

```

### 手动改成递归
笼统地讲，是的。因为递归本身就是借助栈来实现的，只不过我们使⽤的栈是系统或者虚拟机本身提供的，我们没有感知罢 了。如果我们⾃⼰在内存堆上实现栈，⼿动模拟⼊栈、出栈过程，这样任何递归代码都可以改写成看上去不是递归代码的样 ⼦。 但是这种思路实际上是将递归改为了“⼿动”递归，本质并没有变，⽽且也并没有解决前⾯讲到的某些问题，徒增了实现的复杂 度。