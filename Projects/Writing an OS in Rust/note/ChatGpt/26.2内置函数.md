“内置函数”（built-in functions）在 Rust 编译器语境中，指的是编译器直接支持或识别的一类特殊函数，它们通常对应底层的硬件指令、运行时必需的基础操作，不能用普通 Rust 代码替代。

## 1. 什么是内置函数？

- **定义**：内置函数是 Rust 编译器和 LLVM 提供的特殊函数，通常以 `intrinsics` 形式存在；
    
- 它们直接映射到底层 CPU 指令或者运行时环境的核心功能，比如原子操作、内存屏障、算术溢出检测等；
    
- 这些函数不在标准库源码里直接写实现，而是由编译器在编译阶段直接识别和转换成对应机器指令

## 2. 作用

- 提供编译器本身无法用普通 Rust 实现的基础操作；
    
- 支持高性能和底层控制，比如 SIMD 指令、原子同步、内存操作等；
    
- 是标准库和其他高级库的基石，标准库里的函数（例如 `memcpy`、`powi`、算术运算等）往往是内置函数的包装。


## 3. `compiler_builtins` 的角色

- `compiler_builtins` crate 是这些内置函数的**Rust源码实现集合**；
    
- 它为编译器提供了 fallback 实现，保证在无操作系统或裸机环境下，Rust 代码仍然可以运行；
    
- 包含了数学函数、内存操作、位运算、浮点处理等多个类别的函数实现；
    
- 这些函数源码实现可以被链接进最终程序，替代系统默认的类似功能。

## 4. 使用场景

- 裸机开发、内核开发时，无法依赖操作系统提供的库，这时 `compiler_builtins` 必不可少；
    
- 当你使用 `-Z build-std` 强制从源码构建标准库，`compiler_builtins` 作为底层依赖会被编译；
    
- 在常规用户态程序中，通常由系统 libc 或预编译库提供这些功能，`compiler_builtins` 只做“备胎”。



