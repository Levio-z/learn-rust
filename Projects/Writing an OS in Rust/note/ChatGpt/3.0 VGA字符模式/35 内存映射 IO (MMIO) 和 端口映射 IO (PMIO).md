### 1. **内存映射 I/O (MMIO)**

CPU 可以像访问内存一样访问 I/O 设备。
内存地址可能指向物理内存（RAM），也可能指向 I/O 设备的寄存器或内存区域。
- **寄存器**：I/O 设备通常有专用的寄存器来控制设备的状态、配置和数据传输。例如，显卡可能有控制显示的寄存器，网络适配器可能有用于配置 MAC 地址、收发数据的寄存器。
- **内存区域**：一些设备如显存、网络卡的缓冲区等，可能将其数据存储区映射到内存中，CPU 可以直接通过内存访问这些区域。这些内存区域可能用于设备直接与内存交换数据，如显卡显存就是一个典型例子。
#### **1. 内存映射 I/O (MMIO)**
- **优点**：
    - **简单、高效**、**强大**：
	    - 简单：统一地址空间、内存访问指令简化，减少 CPU 内部逻辑
	    - 高效：提升性能与降低功耗：减少了额外的硬件逻辑和复杂的指令执行流程，**减少硬件复杂度**意味着 CPU 可以更小、更简单，减少了功耗。此外，内存操作通常比专用 I/O 操作更快速，因此减少了延迟，提高了数据处理的速度。
	    - 强大：MMIO 使用内存访问指令，CPU 可以使用通用寄存器和指令进行复杂的数据操作，例如 **多字节读取/写入**、**批量数据处理**等。这些操作在端口映射 I/O 中通常需要额外的指令或者硬件支持。
- **缺点**：
    - **地址空间冲突**：I/O 设备可能占用主内存的一部分，导致地址空间紧张。
    - **缓存影响**：写入顺序可能受到缓存机制的影响，需要额外的缓存刷新操作。
#### **2. 端口映射 I/O (PMIO)**
- **优点**：
    - **独立地址空间**：设备和内存有独立的地址空间，避免冲突。
    - **专用 I/O 总线**：可以减轻内存总线的负担。
- **缺点**：
    - **有件限的指令支持**：只能执行简单的加载和存储操作，不支持复杂的数据操作。
    - **额外硬和指令**：需要专门的 I/O 指令与硬件。
#### **总结**
- **MMIO** 适用于现代架构，尤其是 x86-64，简化硬件设计、提高效率。
- **PMIO** 适用于老旧系统，依赖专用指令和硬件，设计简单但效率较低。