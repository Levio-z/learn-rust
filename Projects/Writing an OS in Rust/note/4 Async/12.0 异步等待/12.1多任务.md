由于调用栈可能非常大，操作系统通常会为**每个线程设置独立的调用栈**，而非在每次任务切换时备份调用栈内容。
- 切换时只更新栈指针

抢占式多任务处理的缺点在于每个任务都需要独立的栈空间。相较于共享栈，使用独立栈会导致每个任务占用更多内存，并且通常会限制任务的数量。另一个缺点是操作系统总是需要在每次任务切换时保存完整的 CPU 寄存器状态，即使任务只使用了寄存器的一小部分。

**单栈执行**：协作式任务在任何时刻只有一个任务在运行，和函数调用一样使用当前栈执行。可以共享栈。

**明确切换点**：协作式任务的暂停点类似函数内的 `yield` 或返回点，只是可以再次恢复继续执行。

