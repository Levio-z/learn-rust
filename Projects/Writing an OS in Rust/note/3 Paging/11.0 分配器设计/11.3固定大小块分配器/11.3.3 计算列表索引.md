
```rust
// in src/allocator/fixed_size_block.rs

/// 为给定布局选择适当的块大小
///
/// 返回 `BLOCK_SIZES` 数组中的索引
fn list_index(layout: &Layout) -> Option<usize> {
    let required_block_size = layout.size().max(layout.align());
    BLOCK_SIZES.iter().position(|&s| s >= required_block_size)
}
```

```rust
let required_block_size = layout.size().max(layout.align());
```
- 只要能保证大于或者等于layout.align()就一定能保证满足对齐要求
	- 在计算机系统中，内存对齐要求**几乎总是 2 的幂次方**
	- 而分配的块总是2的幂次方
- 还要满足大于等于size
- 为了只进行一次比较，先找出他们中大的一位，后续查找满足块只需要比较一次
