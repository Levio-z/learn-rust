è¿™æ˜¯ Google MapReduce è®ºæ–‡ä¸­æåˆ°çš„ä¸€ä¸ªæ›´å¤æ‚çš„å®é™…åº”ç”¨ï¼š**ä¸ºæ¯ä¸ªä¸»æœºï¼ˆhostï¼‰æ„å»ºæ£€ç´¢è¯å‘é‡ï¼ˆterm vectorï¼‰**ï¼Œå®ƒä½“ç°äº† MapReduce åœ¨ä¿¡æ¯æ£€ç´¢ï¼ˆInformation Retrievalï¼‰ä¸­çš„å¼ºå¤§èƒ½åŠ›ã€‚æˆ‘ä»¬æ¥é€æ­¥è§£é‡Šï¼š

---

## ğŸ§  ä¸€ã€ä»€ä¹ˆæ˜¯â€œæ£€ç´¢è¯å‘é‡â€ï¼Ÿ

> **æ£€ç´¢è¯å‘é‡ï¼ˆterm vectorï¼‰**ï¼šæŒ‡çš„æ˜¯æ–‡æ¡£ä¸­**é‡è¦è¯çš„é¢‘ç‡è¡¨ç¤º**ï¼Œé€šå¸¸æ˜¯ `(term, count)` çš„åˆ—è¡¨ã€‚  
> å®ƒæ˜¯æ–‡æœ¬æŒ–æ˜ä¸­å¸¸ç”¨çš„ç‰¹å¾ï¼Œç”¨äºæœç´¢å¼•æ“ã€åˆ†ç±»ã€èšç±»ç­‰ã€‚

ä¾‹å¦‚ï¼Œä¸€ç¯‡æ–°é—»çš„æ£€ç´¢è¯å‘é‡å¯èƒ½æ˜¯ï¼š

text

å¤åˆ¶ç¼–è¾‘

`[("earthquake", 5), ("japan", 3), ("tsunami", 2)]`

---

## ğŸŒ äºŒã€ä»»åŠ¡ç›®æ ‡

**æ„å»ºâ€œæ¯å°ä¸»æœºâ€çº§åˆ«çš„è¯å‘é‡**ã€‚æ¯”å¦‚ä½ æŠ“å–äº†å¾ˆå¤šç½‘é¡µï¼Œæ¯ä¸ªç½‘é¡µæ¥è‡ªä¸åŒä¸»æœºï¼ˆå¦‚ `news.bbc.com`, `cnn.com`ï¼‰ï¼Œä½ æƒ³ï¼š

> æŠŠæ‰€æœ‰æ¥è‡ªåŒä¸€ä¸ªä¸»æœºçš„ç½‘é¡µï¼Œæ„å»ºå‡ºä¸€ä¸ª**æ•´ä½“çš„å…³é”®è¯ç»Ÿè®¡å‘é‡**ï¼Œç”¨äºåç»­çš„ä¿¡æ¯æ£€ç´¢æˆ–åˆ†æã€‚

---

## ğŸ”§ ä¸‰ã€MapReduce æµç¨‹è¯¦è§£

### ğŸ§© Map é˜¶æ®µï¼ˆæ¯ä¸ªç½‘é¡µ -> æ£€ç´¢è¯å‘é‡ï¼‰

ä¼ªä»£ç ï¼š

python

å¤åˆ¶ç¼–è¾‘

`map(String url, String content):     host = ExtractHostname(url)     term_vector = ComputeTermVector(content)  # (word, count) åˆ—è¡¨     EmitIntermediate(host, term_vector)`

- **è¾“å…¥**ï¼šURL + ç½‘é¡µå†…å®¹
    
- **æå–ä¸»æœº**ï¼šä» URL æå–ä¸»æœºåï¼ˆå¦‚ `www.example.com`ï¼‰
    
- **è®¡ç®—è¯å‘é‡**ï¼šç»Ÿè®¡å½“å‰ç½‘é¡µä¸­é‡è¦è¯åŠå…¶é¢‘ç‡
    
- **è¾“å‡º**ï¼š`(host, term_vector)`
    

---

### ğŸ” Reduce é˜¶æ®µï¼ˆæ¯å°ä¸»æœº -> æ±‡æ€»è¯å‘é‡ï¼‰

ä¼ªä»£ç ï¼š

python

å¤åˆ¶ç¼–è¾‘

`reduce(String host, Iterator<term_vector>):     merged_vector = MergeAll(term_vector)  # ç›¸åŒè¯é¡¹ç›¸åŠ      filtered_vector = FilterLowFrequency(merged_vector)     Emit(host, filtered_vector)`

- **è¾“å…¥**ï¼šç›¸åŒ host çš„æ‰€æœ‰è¯å‘é‡
    
- **åˆå¹¶**ï¼šå¯¹ç›¸åŒå•è¯è¿›è¡Œç´¯åŠ ï¼Œç”Ÿæˆæ•´ä½“å‘é‡
    
- **ç­›é€‰**ï¼šå»æ‰ä½é¢‘è¯ï¼ˆä¾‹å¦‚å‡ºç°æ¬¡æ•° < 2 çš„ï¼‰
    
- **è¾“å‡º**ï¼šæ¯ä¸ªä¸»æœºçš„æœ€ç»ˆå…³é”®è¯å‘é‡
    

---

## ğŸ’¡ ä¸¾ä¸ªä¾‹å­ï¼š

å‡è®¾æŠ“å–äº†ä»¥ä¸‹ç½‘é¡µï¼š

|URL|å†…å®¹|
|---|---|
|[http://news.bbc.com/1.html](http://news.bbc.com/1.html)|"earthquake in japan"|
|[http://news.bbc.com/2.html](http://news.bbc.com/2.html)|"japan tsunami warning issued"|
|http://www.cnn.com/1.html|"president speech on climate change"|

- å¯¹äº `news.bbc.com`ï¼Œä¸¤ä¸ªç½‘é¡µä¼šäº§ç”Ÿå¦‚ä¸‹ term vectorsï¼š
    

text

å¤åˆ¶ç¼–è¾‘

`[("earthquake",1), ("japan",1)] [("japan",1), ("tsunami",1), ("warning",1), ("issued",1)]`

åˆå¹¶ç»“æœæ˜¯ï¼š

text

å¤åˆ¶ç¼–è¾‘

`[("earthquake",1), ("japan",2), ("tsunami",1), ("warning",1), ("issued",1)]`

å†è¿‡æ»¤ä½é¢‘è¯ï¼ˆ<2ï¼‰ï¼Œæœ€ç»ˆå˜æˆï¼š

text

å¤åˆ¶ç¼–è¾‘

`("news.bbc.com", [("japan",2)])`

---

## ğŸ“¦ å››ã€åº”ç”¨åœºæ™¯

- **æœç´¢å¼•æ“**ï¼šä¸ºæ¯å°ä¸»æœºæ„å»ºç´¢å¼•æ¦‚è¦
    
- **ä¸»é¢˜èšç±»**ï¼šå¯ç”¨äºä¸»æœºçº§èšç±»ï¼ˆå¦‚æŠ€æœ¯åšå®¢ vs. å¨±ä¹ç½‘ç«™ï¼‰
    
- **å†…å®¹ç›‘æ§**ï¼šæ¯”å¦‚è·Ÿè¸ªæŸä¸ªé¢†åŸŸåœ¨ä¸åŒä¸»æœºçš„æ´»è·ƒè¯æ±‡
    

---

## ğŸ—ï¸ äº”ã€MapReduce çš„ä¼˜åŠ¿ä½“ç°

|ç‰¹æ€§|è¯´æ˜|
|---|---|
|**æ¨ªå‘æ‰©å±•**|å¯å¤„ç†æ•°ç™¾ä¸‡ç½‘é¡µï¼Œåˆ†å¸ƒåœ¨æ•°åƒå°æœºå™¨ä¸Š|
|**æ¨¡å—åŒ–**|Mapï¼šåˆ†è¯å’Œå‘é‡åŒ–ï¼ŒReduceï¼šåˆå¹¶å’Œè¿‡æ»¤|
|**é«˜æ•ˆå¤„ç†**|æŒ‰ host åˆ†ç»„å¤©ç„¶é€‚åˆ Reduce èšåˆ|

---

å¦‚æœä½ éœ€è¦ä¸€ä¸ª Rust ç¤ºä¾‹ï¼Œç”¨å¼‚æ­¥ + trait æ„å»º MapReduce çš„æŠ½è±¡æ¨¡å‹æ¥å¤„ç†è¿™ç§ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥å¸®ä½ å»ºä¸€ä¸ªåŸå‹é¡¹ç›®ã€‚