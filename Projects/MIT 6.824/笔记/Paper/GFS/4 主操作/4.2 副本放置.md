GFS 集群高度分布在多个级别。它通常有数百个块服务器分布在许多机器机架上。反过来，这些块服务器可以从相同或不同机架的数百个客户端访问。不同机架上的两台计算机之间的通信可能跨一个或多个网络交换机。此外，进出机架的带宽可能小于机架内所有计算机的总带宽。多级分发为可扩展性、可靠性和可用性分发数据带来了独特的挑战。

块副本放置策略有两个目的：最大限度地提高数据可靠性和可用性，以及最大限度地提高网络带宽利用率。对于这两种情况，仅仅在计算机之间分布副本是不够的，这只能防止磁盘或计算机故障并充分利用每台计算机的网络带宽。我们还必须**将块副本分布在机架上。这可确保块的某些副本能够幸存下来并保持可用，即使整个机架损坏或脱机（例如，由于网络交换机或电源电路等共享资源的故障）。这也意味着一个块的流量，尤其是读取流量，可以利用多个机架的聚合带宽**。**另一方面，写入流量必须流经多个机架，这是我们愿意做出的权衡。**


