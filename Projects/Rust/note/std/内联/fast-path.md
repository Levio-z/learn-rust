“fast-path”（快路径）是性能优化中一个非常经典的术语，指的是程序中执行频率极高、且代码路径尽可能简洁快速的部分。它的核心目的是让大多数情况下的操作尽可能高效，从而提升整体性能。
### 详细解释：

#### 1. 什么是 fast-path？
- **fast-path** 是指程序中常见、简单、快速成功执行的代码路径。
- 通常用来处理正常、预期的情形，比如缓存命中、资源已就绪、状态正常等。
- 相对于它的对立面 **slow-path（慢路径）**，后者处理异常、错误、资源不足等复杂或罕见情况。
#### 2. fast-path 的特点
- **简洁高效**：逻辑少，尽量减少分支、函数调用、同步开销。
- **执行频率高**：大部分请求或操作都走这条路径。
- **低延迟**：对性能敏感，尽量减少 CPU 周期和缓存失效。
#### 3. fast-path 的设计技巧
- **利用缓存和局部性**，避免额外内存访问。
- **内联函数**减少调用开销，方便编译器做优化。
- **减少锁竞争**，比如无锁算法或读写锁的读操作走 fast-path。
- **条件分支预测友好**，减少分支错误带来的流水线冲刷。
- **提前判断失败条件，快速跳过复杂逻辑**。
#### 4. 举例说明
以 `Once` 初始化为例：
- **fast-path**：判断状态是否已完成（`COMPLETE`），如果是，直接返回，不用加锁或等待。
- **slow-path**：如果未完成，需要加锁、执行初始化、可能等待其他线程。

快速返回的 fast-path 能极大提升多线程中只读场景的性能。

fast-path 是程序中针对高频正常场景的极简优化路径，核心是让绝大多数操作都能迅速完成，极大提升系统吞吐和响应速度。