## 1. `static` 基础

- `static` 定义的是**全局静态变量**，生命周期为 `'static`，即程序全程有效；
- 静态变量存储在数据区，编译期确定地址，且通常是不可变（除非使用 `static mut`，但不推荐）；
- `static` 变量是全局共享的，访问安全性需注意。
### 2. `static` + 引用类型的定义格式
```
static NAME: &T = &value;
```
- `NAME` 是变量名；
- `&T` 是引用类型，指向某个具体值的引用；
- 该引用指向的数据本身也必须有 `'static` 生命周期，否则编译报错。
### 3. 常见示例
#### 3.1 静态引用字符串切片
```
static GREETING: &str = "Hello, world!";
```
- `&str` 是字符串切片，引用指向字符串字面量 `"Hello, world!"`，它本身是静态存储在程序的只读内存中；
- 这里的字符串字面量具备 `'static` 生命周期，静态变量 `GREETING` 绑定了它的引用。
### 3.2 静态字节切片
`static BYTES: &[u8] = b"some bytes";`
- 字节字符串字面量 `b"..."` 是 `[u8; N]` 数组，静态存储；
- `BYTES` 是对这个数组的引用切片（slice），包含指针和长度。
---
## 4. 为什么用 `static` + 引用/切片？
- 共享数据，**避免复制**，尤其是大数据块；
- 利用 `'static` 生命周期，保证引用的安全性；
- **方便将静态数据传递给函数，且不必关心所有权转移**；
- **保证数据不可变，线程安全**。
    

---

## 5. 注意事项

- 不能让 `static` 持有非 `'static` 生命周期的数据引用；
- 如果用 `static mut`，需保证同步和安全；
- **`static` 中的引用必须引用 `'static` 生命周期数据，否则编译器拒绝。**
