---
tags:
  - note
---
## 1. 核心观点  
### Ⅰ. 概念层

**将一个字符串 `src` 按照指定的进制 `radix` 解析为对应整数类型**
- 传入的 `radix` 不在 `2~36` 范围内
```
u16::from_str_radix(len_str, 16)
```
### Ⅱ. 实现层



## 2. 背景/出处  
- 来源：
- 引文/摘要：  
  - …  
  - …  

## 3. 展开说明  
- **核心规则**：合法输入只能是「可选的符号（+/-，仅针对有符号整数） + 纯进制数字」，其他情况都报错：
    1. 首尾的非数字字符（包括空格）→ 错误（比如 `"123 "` 末尾空格、`" 123"` 开头空格、`"12a3"` 中间非法字符）；
    2. 下划线 `_` → 错误（Rust 字面量允许 `1_234` 这种写法，但该函数不识别）；
    3. 示例：`"123"` 合法，`"-123"`（有符号类型）合法，`"12 3"`/`"1_23"`/`"a12"` 均非法。
- **合法字符范围**：解析时认的「数字字符」由 `radix`（进制）决定，字符集是 `0-9` + `a-z` + `A-Z` 的子集：
    - 进制 `≤10`：仅认 `0-(radix-1)`（比如十进制 `radix=10` 只认 `0-9`）；
    - 进制 `>10`：认 `0-9` + `a-z`/`A-Z`（字母大小写不敏感，比如十六进制 `radix=16` 认 `0-9` + `a-f`/`A-F`）；
    - 示例：`radix=16` 时，`"a"`/`"A"` 都解析为 10，`"f"`/`"F"` 解析为 15；`radix=2` 时，仅认 `0`/`1`。
- **恐慌（Panic）条件**：如果传入的 `radix` 不在 `2~36` 范围内，函数会直接 panic（因为 36 是 `0-9`+`a-z` 能覆盖的最大进制）；
    - 比如调用 `u16::from_str_radix("123", 1)` 或 `u16::from_str_radix("123", 37)` 都会 panic。
- **示例说明**（通过宏动态生成对应整数类型的示例）：
    1. 第一个示例：`u16::from_str_radix("A", 16)` → 解析为 `Ok(10)`（对应我们解析 Git pkt-line 时的 `000a` 场景）；
    2. 第二个示例：`u16::from_str_radix("1 ", 10)` → 末尾带空格，返回错误（`is_err()` 为 true）。
### Ⅲ. 原理层
## 4. 与其他卡片的关联  
- 前置卡片：
	- [Rust-str-trait-from_str](../str/traits/Rust-str-trait-from_str.md)
- 后续卡片：
- 相似主题：

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
 
  
