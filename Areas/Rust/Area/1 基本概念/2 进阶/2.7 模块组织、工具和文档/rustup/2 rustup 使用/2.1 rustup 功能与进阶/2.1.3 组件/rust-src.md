### 定义
`rust-src` 是 Rust 的标准库源码包，提供完整的 `libcore`、`liballoc`、`libstd` 等源码。

### 裸机开发
- `libcore` 是针对目标架构专门编译的静态库**
	- `libcore` 是 Rust 的核心库，提供最基础的语言核心功能（比如 `Option`、`Result`、迭代器等）；
	- 它是一个 **编译好的二进制文件**，类似 `.rlib` 格式的静态库；
- 不同目标架构 ABI 不同，机器码不同
	- 编译时针对具体的目标架构和平台生成对应的机器码和 ABI 细节；
- 预构建的标准库仅针对官方支持的架构
- 所以当你用自定义目标或交叉编译时，必须从源码构建 `libcore`

---

## 2. **不同目标架构 ABI 不同，机器码不同**

- `x86_64-unknown-linux-gnu` 的机器码跟 `aarch64-unknown-linux-gnu`、`riscv64-unknown-none-elf` 是完全不一样的；
    
- 即使是相同功能的代码，最终编译出来的二进制机器码、调用约定、内存布局都不一样；
    
- **因此，每个架构的 `libcore` 都是单独编译生成的专用版本，不能通用。**
###  功能与使用场景

| 使用场景                      | 说明                                                                      |
| ------------------------- | ----------------------------------------------------------------------- |
| **裸机/内核开发（`#![no_std]`）** | 编译器需要 `libcore` 源码来生成目标平台适配的标准库                                         |
| **交叉编译/自定义目标 triple**     | 如 `x86_64-blog_os`, `riscv64imac-unknown-none-elf`，都需要 `rust-src`       |
| **IDE 支持跳转到标准库源码**        | `rust-analyzer` 等工具通过它支持跳转、补全、语义分析                                      |
| **构建自定义 sysroot**         | 用于 `xargo`, `cargo-xbuild`, `cargo build -Z build-std` 等工具构建内核级 sysroot |
| **元编程、宏调试**               | 有时需要深入研究标准库宏的展开行为，也需要源码支持                                               |