#### 1. 基本定义

**路径（Path）** 是 Rust 中用来 **唯一标识某个项（item）（在模块树中具体位置）** 的方式。我们使用路径，就像在文件系统中导航时使用路径一样。要调用任何项，我们都需要知道它的路径，
- **项（Item）** 可以是：函数、结构体、枚举、常量、模块、trait 等。


#### 2\. 路径的分类
1.  **绝对路径（Absolute Path）**
    - 是从包根开始的完整路径；对于来自外部包的代码，绝对路径以包名称开头，而对于来自当前包的代码，绝对路径以文字crate开头。
    ```rust
    crate::module::func()
    std::collections::HashMap::new()
    ```
2.  **相对路径（Relative Path）**
    -   从当前作用域出发，使用 `self`, `super`, 或名字直接引用。
    ```rust
    self::helper::foo()    // 当前模块中的 helper::foo
    super::bar()           // 上一级模块中的 bar
    some_func()            // 当前作用域已导入或定义的函数
    ```
3. 绝对路径和相对路径后面都跟有一个或多个用双冒号 ( ::) 分隔的标识符
4.  **单标识符路径（Identifier Path）**
    -   只有一个名字，最简形式。
    ```rust
    let s = String::from("hi"); // String 在 prelude 中，单名字即可
    ```
- 【使用指南】
    - 如果只是为了引用到指定模块中的对象，那么两种都可以，但是在实际使用时，需要遵循一个原则：**当代码被挪动位置时，尽量减少引用路径的修改**，相信大家都遇到过，修改了某处代码，导致所有路径都要挨个替换，这显然不是好的路径选择。
    - 优先使用绝对路径：调用的地方和定义的地方往往是分离的，而定义的地方较少会变动。
---

#### 3\. 路径与 `use` 结合
-   **`use` 可以把长路径引入当前作用域**，简化书写：
```rust
    use std::collections::HashMap;
    
    fn main() {
        let mut map = HashMap::new();
        map.insert("k", "v");
    }
    ```
    
-   可以给路径起别名，解决冲突：
    ```rust
    use std::fmt::Result;
    use std::io::Result as IoResult;
    ```
    

---

#### 4\. 特殊路径关键字

-   `crate::` → 当前 crate 根
-   `self::` → 当前模块
-   `super::` → 父模块
-   `::` （在 2018 edition 之前）表示 crate 根，现在推荐用 `crate::`
-  `pub` 可以公开路径

---

#### 5\. 示例（模块路径）

目录结构：

```css
src/
 ├── main.rs
 └── utils/
     └── mod.rs
```

代码：

```rust
// src/utils/mod.rs
pub fn greet() {
    println!("hello");
}

// src/main.rs
mod utils;

fn main() {
    crate::utils::greet(); // 绝对路径
    utils::greet();        // 相对路径（同级 mod 引入）
}
```

---
#### 6. 结构体中的路径
- 如果我们使用 `pub` 在结构定义之前，我们将结构设置为公共结构，但结构的字段 仍将是私有的。
- 相反，如果我们将枚举公开，则其所有变体都是公开的


#### 7\. 扩展知识点

-   **路径与作用域解析（Name Resolution）**：编译器根据作用域和 use 导入规则解析路径。
-   **路径与 trait 方法调用**：如果方法有歧义，可以用完全限定语法：
    
    ```rust
    <Type as Trait>::method(args)
    ```
    
-   **宏路径**：宏也通过路径查找，例如 `std::println!`。
    

---

### 总结

-   **路径**是 Rust 用于定位 item 的机制，语义类似于文件路径。
-   分为 **绝对路径** 和 **相对路径**，并有 `crate::`、`self::`、`super::` 等特殊关键字。
-   `use` 可导入路径，`as` 可重命名，解决长路径和冲突问题。
-   在 **模块系统、名称解析、trait 调用** 中都依赖路径。
---



---