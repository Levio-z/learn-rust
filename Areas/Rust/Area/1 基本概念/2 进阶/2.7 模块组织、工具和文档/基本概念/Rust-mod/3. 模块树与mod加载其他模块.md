### 模块组织代码
- _模块_让我们能够**将代码组织在一个包内，以提高可读性和易重用性。**

- 模块还允许我们控制项目的_隐私_，因为**模块内的代码默认是私有的。
- 私有项目是内部实现细节，不可供外部使用。**我们可以选择将模块及其中的项目公开，这样就可以公开它们，以允许外部代码使用和依赖它们。
	- 模块还可以保存其他项目的定义，例如结构、枚举、常量、特征，以及如示例 7-1 所示的函数。
    
- 示例
    
    ```rust
    mod front_of_house {
        mod hosting {
            fn add_to_waitlist() {}
    
            fn seat_at_table() {}
        }
    
        mod serving {
            fn take_order() {}
    
            fn serve_order() {}
    
            fn take_payment() {}
        }
    }
    ```
    
    - 通过使用模块，我们可以将相关定义分组在一起并指出它们相关的原因。使用此代码的程序员可以**根据组浏览代码，而不必通读所有定义**，从而更容易找到与它们相关的定义。**向此代码添加新功能的程序员会知道将代码放在哪里以保持程序井然有序。**

### 加载其他模块功能

`mod front_of_house;`
- 告诉 Rust 从另一个和模块 `front_of_house` 同名的文件中加载该模块的内容
- 模块的声明和实现是分离的和之前代码中 `mod front_of_house{..}` 的完整模块不同
如果该模块不是根文件
- 在 `front_of_house` 目录里创建一个 `mod.rs`，如果你使用的 `rustc` 版本 `1.30` 之前，这是唯一的方法。
```rust
src/
├── lib.rs            // crate 根
├── front_of_house/   // 模块目录
│   ├── mod.rs        // front_of_house 模块入口
│   ├── hosting.rs    // 子模块
│   └── serving.rs    // 子模块
```
- 在 `front_of_house` **同级**目录里创建一个与模块（目录）**同名**的 rs 文件 `front_of_house.rs`，在新版本里，更建议使用这样的命名方式来避免项目中存在大量同名的 `mod.rs` 文件（ Python 点了个 `踩`）。

```rust
src/
├── lib.rs
├── front_of_house.rs     // front_of_house 模块入口
├── front_of_house/       // 模块子目录
│   ├── hosting.rs
│   └── serving.rs
```

|                         |                                 |                      |
| ----------------------- | ------------------------------- | -------------------- |
| 场景                      | `mod xxx;` 查找路径                 | 是否允许                 |
| crate 根（lib.rs/main.rs） | `xxx.rs` 或 `xxx/mod.rs`         | ✅ 允许                 |
| 子模块文件（如 foo.rs）         | `foo/xxx.rs` 或 `foo/xxx/mod.rs` | ✅ 允许                 |
| 子模块想加载同级文件              | `xxx.rs`                        | ❌ 不允许（除非用 `#[path]`） |

`#[path]`使用方法
```rust
#[path = "bar.rs"]
mod bar;
```



- 如果对同一模块使用两种样式，则会出现编译器错误。允许在同一项目中对不同模块混合使用两种样式，但这可能会让浏览项目的人员感到困惑。
- 使用名为_[mod.rs](http://mod.rs)_的文件样式的主要缺点是，你的项目最终可能会包含许多名为_[mod.rs](http://mod.rs)_的文件，当你同时在编辑器中打开它们时可能会造成混淆。
