---
tags:
  - note
---
## 1. 核心观点  
### Ⅰ. 概念层


 

### Ⅲ. 原理层

## 2. 背景/出处  
- 来源：
- 引文/摘要：  
  - …  
  - …  

## 3. 展开说明  

#### 代码效率高：实现丰富功能
- 代码效率：使用Rust仅需700多行代码即可实现包括CSV处理、密码生成、Base64编解码、文本签名验证、HTTP服务等丰富功能
	- **泛型、trait、宏、枚举等语言特性可以大幅减少模板代码**
- 项目结构：包含main.rs、http.rs、base64.rs、text.rs等多个模块文件，通过CmdExector trait统一接口

#### 重构友好
- 重构实践：课程中持续进行代码重构，包括消除重复代码、构建CLI executor trait、使用enum dispatch减少match重复
- 重构优势：在Rust中重构时，**只要编译通过，代码正确性就有80-90%保证，得益于强大的类型系统**
- 对比说明：脚本语言重构容易出错，因为缺乏类型系统在编译期发现问题

#### 可测试接口，测试性友好
- 接口设计：应设计可重入、可测试的接口，使用纯数据结构(pure data structure)
- 测试便利：**Rust中可将request handler当作普通函数测试**，**无需复杂request context**，相比其他语言中的黑箱
- 错误处理：示例中展示HTTP文件处理的错误返回逻辑(404状态码)
### 错误处理
![image.png](https://raw.githubusercontent.com/Levio-z/MyPicture/main/img/20260119224919695.png)
- Golang风格：需要大量if err != nil检查，代码中充斥错误处理逻辑
- C风格：通过返回值或错误码处理，缺乏统一规范

- 通过Result类型系统强制处理所有可能错误
- ?操作符极大简化错误传播代码
- 错误处理逻辑不影响主流程代码可读性
- 错误值作为数据结构可进行各种转换和处理

## 4. 与其他卡片的关联  
- 前置卡片：
- 后续卡片：
- 相似主题：

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
 
  
