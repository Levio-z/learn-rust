### 常用命令
• docker compose up -d 启动所有服务 
• docker compose down 停止并清理
• docker compose ps 查看状态 
• docker compose logs 查看日志 
• docker compose exec 进入容器 
• docker-compose restart 重启服务
### 常用配置
#### 应用配置
```
services:

  mysql:

    image: mysql:8.0 # 镜像或者dockfile文件

    container_name: my-mysql # 容器名称

    restart: unless-stopped # 重启策略
    
	expose:                 # 暴露端口
      - "3306"
    environment:           # 环境变量

      - MYSQL_ROOT_PASSWORD: 123456

      - MYSQL_DATABASE: counter
    volumes:               #卷设置

      - mysql-data:/var/lib/mysql

      - ./init.sql:/docker-entrypoint-initdb.d/init.sql:ro

    networks:               # 网络设置

      - mynet

```
#### 自定义网络
```
networks:

  mynet:

    driver: bridge
```
#### 自定义卷
```
# 定义持久化存储卷

volumes:

  mysql-data:

```

### 示例

```
version: '3.8'

networks:

  mynet:

    driver: bridge

  
  

# 在这里编写你的 docker-compose.yml 文件

services:

  mysql:

    image: mysql:8.0

    container_name: my-mysql

    restart: unless-stopped

    environment:

      MYSQL_ROOT_PASSWORD: 123456

      MYSQL_DATABASE: counter

    volumes:

      - mysql-data:/var/lib/mysql

      - ./init.sql:/docker-entrypoint-initdb.d/init.sql:ro

    networks:

      - mynet

  app:

    build: ./app

    container_name: my-app

    restart: unless-stopped

    environment:

      MYSQL_DSN: root:123456@tcp(mysql:3306)/counter

    networks:

      - mynet

    depends_on:

      - mysql

  nginx:

    image: nginx:1.25-alpine

    container_name: my-nginx

    restart: unless-stopped

    ports:

      - "8080:80"

    volumes:

      - ./nginx.conf:/etc/nginx/nginx.conf:ro

    networks:

      - mynet

    depends_on:

      - app

# 定义持久化存储卷

volumes:

  mysql-data:
```