
## ✅ 1. Chat Provider 设置

```env
CHAT_PROVIDER=openai
```

-   指定用于对话生成（Chat Completion）的服务商，这里使用 `openai`。
    
-   可选值可能还有：`deepseek`, `ollama` 等。
    

---

## ✅ 2. Embeddings Provider 设置

```env
EMBEDDINGS_PROVIDER=openai
```

-   向量嵌入服务的提供者，用于将文本转化为向量，用于 RAG 检索。
    
-   这两者可以不同，例如聊天用 `ollama`，嵌入用 `openai`。
    

---

## ✅ 3. OpenAI 设置

```env
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4
OPENAI_EMBEDDINGS_MODEL=text-embedding-ada-002
```

-   `API_KEY`：你的 OpenAI 密钥。
    
-   `API_BASE`：API 地址，使用默认即可（除非你使用代理或 Azure OpenAI）。
    
-   `OPENAI_MODEL`：对话模型，使用 GPT-4。
    
-   `OPENAI_EMBEDDINGS_MODEL`：向量嵌入模型，使用 Ada。
    

---

## ✅ 4. DeepSeek 设置（备用或切换 Chat Provider）

```env
DEEPSEEK_API_KEY=your-deepseek-api-key-here
DEEPSEEK_API_BASE=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat
```

-   如果 `CHAT_PROVIDER=deepseek`，才会启用这些设置。
    
-   `deepseek-reasoner` 适合复杂推理。
    

---

## ✅ 5. Ollama 设置（本地大模型）

```env
OLLAMA_API_BASE=http://host.docker.internal:11434
OLLAMA_MODEL=deepseek-r1:7b
OLLAMA_EMBEDDINGS_MODEL=nomic-embed-text
```

-   用于在本地部署大模型，如 Mistral、LLaMA、DeepSeek-R。
    
-   `host.docker.internal` 适用于 Mac Docker Compose。
    
-   `OLLAMA_EMBEDDINGS_MODEL` 是向量模型，如 `nomic-embed-text`。
    

---

## ✅ 6. MinIO 设置（对象存储，RAG 的文件存放位置）

```env
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=documents
```

-   文件（PDF、TXT 等）将上传到此存储桶中。
    
-   `minio` 是对象存储服务，兼容 S3 协议。
    

---

## ✅ 7. 向量数据库配置

```env
VECTOR_STORE_TYPE=chroma
CHROMA_DB_HOST=chromadb
CHROMA_DB_PORT=8000
```

-   `chroma` 是轻量级的向量数据库。
    
-   可选值还有：`qdrant`, `milvus`, `weaviate`。
    
-   `chromadb` 是容器服务名。
    

---

## ✅ 8. Qdrant 备用配置（如果启用）

```env
QDRANT_URL=http://localhost:6333
QDRANT_PREFER_GRPC=true
```

-   如果 `VECTOR_STORE_TYPE=qdrant`，就会使用这些配置。
    

---

## ✅ 9. MySQL 配置（用于存储用户、会话等元数据）

```env
MYSQL_SERVER=db
MYSQL_PORT=3306
MYSQL_USER=ragwebui
MYSQL_PASSWORD=ragwebui
MYSQL_DATABASE=ragwebui
```

-   `db` 是服务名，需确保和 `docker-compose.yml` 中一致。
    
-   `ragwebui` 是数据库、用户名、密码，可根据需求修改。
    

---

## ✅ 10. JWT 设置（用于用户认证与会话）

```env
SECRET_KEY=your-secret-key-here
ACCESS_TOKEN_EXPIRE_MINUTES=10080
```

-   `SECRET_KEY`：用于加密 JWT。
    
-   `ACCESS_TOKEN_EXPIRE_MINUTES=10080` 表示过期时间为 7 天。
    

---

## ✅ 11. 时区设置

```env
TZ=Asia/Shanghai
```

-   设置容器时区为上海时间（东八区），可保证日志时间一致性。
    

---

### ✅ 总结用途

这个 `.env` 文件通常用于以下场景：

-   Docker Compose 多服务部署（AI 服务 + 数据库 + 向量库 + 存储）
    
-   RAG 应用系统中配置 Chat、Embedding、数据库、存储等集成服务
    
-   保持敏感信息与配置统一管理，防止硬编码进源代码
    