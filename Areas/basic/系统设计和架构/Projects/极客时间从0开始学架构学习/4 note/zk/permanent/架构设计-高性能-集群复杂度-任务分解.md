---
tags:
  - permanent
---
## 1. 核心观点  

基本定义：业务服务器”如果越来越复杂，我们可以将其拆分为更多的组成部分。通过这种任务分解的方式，**能够把原来大一统但复杂的业务系统，拆分成小而简单但需要多个系统配合的业务系统**。

与水平扩展的关系：[任务分配](架构设计-高性能-集群复杂度-任务分配.md)的在系统复杂度过高会有[水平扩展的边际下降](架构设计-高性能-集群复杂度-水平扩展的边际下降.md)现象，为了能够继续提升性能，我们需要采取第二种方式：任务分解。

为什么任务分解可以提高性能：[架构设计-高性能-集群复杂度-任务分解-为什么能提高性能](架构设计-高性能-集群复杂度-任务分解-为什么能提高性能.md)

任务分解带来的性能上限，逼近业务逻辑理论性能上限，但无法突破，任务分解不是越细越好。
原因见，系统拆分越多，系统调用次数直线上升：[架构设计-高性能-集群复杂度-任务分解-拆分更细反而性能差](架构设计-高性能-集群复杂度-任务分解-拆分更细反而性能差.md)
## 2. 背景/出处  

## 3. 展开说明  

### 最简案例
继续以上面“任务分配”中的架构为例，“业务服务器”如果越来越复杂，我们可以将其拆分为更多的组成部分，我以微信的后台架构为例。
![](asserts/Pasted%20image%2020251111093721.png)

通过上面的架构示意图可以看出，微信后台架构从逻辑上将各个子业务进行了拆分，包括：接入、注册登录、消息、LBS、摇一摇、漂流瓶、其他业务（聊天、视频、朋友圈等）。











## 4. 与其他卡片的关联  
- 前置卡片：
	- [架构设计-高性能-集群复杂度](架构设计-高性能-集群复杂度.md)
- 后续卡片：
	- [架构设计-高性能-集群复杂度-任务分解-拆分更细反而性能差](架构设计-高性能-集群复杂度-任务分解-拆分更细反而性能差.md)
	- [架构设计-高性能-集群复杂度-任务分解-为什么能提高性能](架构设计-高性能-集群复杂度-任务分解-为什么能提高性能.md)
- 相似主题：
	- [架构设计-高性能-集群复杂度-任务分配](架构设计-高性能-集群复杂度-任务分配.md)

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
- [x] 此外，“任务分配器”也并不一定只能是物理上存在的机器或者一个独立运行的程序，也可以是嵌入在其他程序中的算法，例如 Memcache 的集群架构。
- [x] 这个分配器可能是硬件网络设备（例如，F5、交换机等），可能是软件网络设备（例如，LVS），也可能是负载均衡软件（例如，Nginx、HAProxy），还可能是自己开发的系统。
- [x] 常见的方法包括 DNS 轮询、智能 DNS、CDN（Content Delivery Network，内容分发网络）、GSLB 设备（Global Server Load Balance，全局负载均衡）等。
