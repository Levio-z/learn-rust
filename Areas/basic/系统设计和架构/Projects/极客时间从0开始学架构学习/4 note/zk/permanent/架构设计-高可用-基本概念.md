---
tags:
  - permanent
---
## 1. 核心观点  

系统无中断地执行其功能的能力，代表系统的可用性程度，是进行系统设计时的准则之一。

## 2. 背景/出处  

## 3. 展开说明  
### 什么是不可用

定义可用性，可以先定义什么是不可用。需要经历若干环节，网站的页面才能呈现在最终的用户面前；而其中的任何一个环节出现了故障，都可能会导致网站的页面不可访问，也就是出现了网站不可用的情况。昨夜iOS版本QQ出现大面积闪退就是一个系统不可用的典型案例。

我们可以利用百分比来对网站可用性进行度量：  
网站不可用时间=完成故障修复的时间点 - 故障发现的时间点  
网站年度可用时间=年度总时间 - 网站不可用时间  
网站年度可用性=(网站年度可用时间/年度总时间) x 100%  
  
举例：一些知名大型网站的可用性可达到99.99%（俗称4个9），我们可以算一下一年下来留给处理故障的时间有多少？  
年度总时间=365*24*60=525600分钟  
网站不可用时间=525600*(1-99.99%)=52.56分钟  
也就是，如果网站要达到4个9的可用性，一年下来网站不可用时间最多53分钟（也就是不足1个小时）。

### 为什么会出现不可用
#### 难点在无中断上
- 硬件会出故障
- 软件会有 bug
- 外部环境：断电、水灾、地震，这些事故或者灾难也会导致系统不可用，而且影响程度更加严重，更加难以预测和规避。
#### 本质上都是通过“**冗余**”来实现高可用
- 就是一台机器不够就两台，两台不够就四台；一个机房可能断电，那就部署两个机房；一条通道可能故障，那就用两条，两条不够那就用三条（移动、电信、联通一起上）
- 高可用的“冗余”解决方案，单纯从形式上来看，和之前讲的高性能是一样的，都是通过增加更多机器来达到目的，但其实本质上是有根本区别的：**高性能增加机器目的在于“扩展”处理性能；高可用增加机器目的在于“冗余”处理单元**。

### 如何做到高可用

核心思想：网站高可用的主要技术手段是**服务与数据的冗余备份与失效转移**。同一服务组件部署在多台服务器上；数据存储在多台服务器上互相备份。通过上述技术手段，当任何一台服务器宕机或出现各种不可预期的问题时，就将相应的服务切换到其他可用的服务器上，不影响系统的整体可用性，也不会导致数据丢失。



## 4. 与其他卡片的关联  
- 前置卡片：
- 后续卡片：
	- [架构设计-高可用-计算高可用](架构设计-高可用-计算高可用.md)
	- [架构设计-高可用-存储高可用](架构设计-高可用-存储高可用.md)
	- [架构设计-高可用-高可用状态决策](架构设计-高可用-高可用状态决策.md)
		- [架构设计-高可用-高可用状态决策-独裁式](架构设计-高可用-高可用状态决策-独裁式.md)
		- [架构设计-高可用-高可用状态决策-协商式](架构设计-高可用-高可用状态决策-协商式.md)
		- [架构设计-高可用-高可用状态决策-民主式](架构设计-高可用-高可用状态决策-民主式.md)
			- [架构设计-高可用-高可用状态决策-民主式-脑裂](架构设计-高可用-高可用状态决策-民主式-脑裂.md)
- 相似主题：

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
 
  
