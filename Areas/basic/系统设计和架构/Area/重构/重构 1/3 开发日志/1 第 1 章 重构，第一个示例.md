---
tags:
  - reference
---
## 1. 核心观点  
### Ⅰ. 概念层
- 何时以及何地：应该开始挖掘代码以求改善
- 动机和技术：书中给出了 60 多个可行的重构，每个重构都介绍了一种经过验证的代码变换手法的动机和技术。
- 一次一小步：本书提出的重构准则将帮助开发人员一次一小步地修改代码，从而减少了开发过程中的风险。


### Ⅱ. 应用层




### Ⅲ. 实现层

### **IV**.原理层


## 2. 背景/出处  
- 来源：
- 引文/摘要：  
  - …  
  - …  

## 3. 展开说明  
### 需求
- **改变输出格式**：在这个例子里，我们的用户希望对系统做几个修改。首先，他们希望以 HTML 格式输出详单。
	- 对于每处追加字符串到 result 变量的地方我都得为它们添加分支逻辑
	- 复制整个方法，但是不隔离计费逻辑，两个代码计费逻辑都要保持一致，随着规则的复杂，适当的修改点越来越少，不犯错的机会也越来越少
- **表演类型**上做更多突破，影响计费方式、积分的计算方式
- **变化是常在的**：不论最终提出什么方案，他们一定会在 6 个月之内再次修改它。毕竟，需求通常不来则已，一来便会接踵而至。

为了应对分类规则和计费规则的变化，程序必须对 statement 函数做出修改。但如果我把 statement 内的代码复制到用以打印 HTML 详单的函数中，就必须确保将来的任何修改在这两个地方保持一致。随着各种规则变得越来越复杂，适当的修改点将越来越难找，不犯错的机会也越来越少。



## 4. 与其他卡片的关联  
- 前置卡片：
- 后续卡片：
	- [1.2 对此起始程序的评价](../4%20note/reference/1.2%20对此起始程序的评价.md)
	- [1.3 重构的第一步](../4%20note/reference/1.3%20重构的第一步.md)
	- [1.4 分解 statement 函数](../4%20note/reference/1.4%20分解%20statement%20函数.md)
- 相似主题：

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
 
  
