---
tags:
  - note
---

## 1. 核心观点  
使用`mkfifo`命令创建，指定管道名称，基于Linux 一切皆文件的理念

## 2. 展开说明  

**创建**
使用 `mkfifo` 命令（在 Shell 中）或 `mkfifo()` 系统调用（在 C 语言中）**显式创建**。

在使用命名管道前，先需要通过 `mkfifo` 命令来创建，并且指定管道名字：

```
$ mkfifo myPipe
```

myPipe 就是这个管道的名称，基于 Linux 一切皆文件的理念，所以管道也是以文件的方式存在，我们可以用 ls 看一下，这个文件的类型是 p，也就是 pipe（管道） 的意思：

```
$ ls -l
prw-r--r--. 1 root    root         0 Jul 17 02:45 myPipe
```
只占用了元数据的空间，[元数据是持久化存储在磁盘上的](元数据是持久化存储在磁盘上的.md)。
- [创建命名管道，没有进程使用，是不是会一直存在内存里面？](创建命名管道，没有进程使用，是不是会一直存在内存里面？.md)
接下来，我们往 myPipe 这个管道写入数据：

```
$ echo "hello" > myPipe  // 将数据写进管道
                         // 停住了 ...
```

你操作了后，你会发现命令执行后就停在这了，这是因为管道里的内容没有被读取，只有当管道里的数据被读完后，命令才可以正常退出。

于是，我们执行另外一个命令来读取这个管道里的数据：

```
$ cat < myPipe  // 读取管道里的数据
hello
```

可以看到，管道里的内容被读取出来了，并打印在了终端上，另外一方面，echo 那个命令也正常退出了。

## 3. 与其他卡片的关联  
- 前置卡片：
	- [命名管道](命名管道.md)
- 后续卡片：
	- [管道模式默认是同步阻塞式IO](管道模式默认是同步阻塞式IO.md)
	- [元数据是持久化存储在磁盘上的](元数据是持久化存储在磁盘上的.md)
- 相似主题：
	- [IPC-管道-TOC](IPC-管道-TOC.md)

## 4. 背景/出处  
- 来源：
	- [匿名管道](../reference/管道/匿名管道.md)
- 引文/摘要：  
  - …  
  - …  

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
- [ ] 深入阅读 xxx  
- [ ] 验证这个观点的边界条件  









关键参考：
