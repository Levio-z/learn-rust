
### 语法
```
git push <remote> <src>:<dst>
```
- `<remote>`：远程仓库名，通常是 `origin`
- `<src>`：本地分支名（source）
- `<dst>`：远程分支名（destination）
### 总结

| 操作                              | 效果                      |
| ------------------------------- | ----------------------- |
| `git push origin a:b`           | 将本地 `a` 推送为远程 `b`       |
| `git push origin b`             | 等价于 `b:b`               |
| `git checkout --track origin/b` | 创建并追踪远程 `b`             |
| git push -u origin myapi        | 推送本地分支并创建远程 tracking 分支 |
### 基本概念
当你想要公开分享一个分支时，需要将其推送到有写入权限的远程仓库上。 本地的分支并不会自动与远程仓库同步 - 你必须显式地推送想要分享的分支。

如果希望和别人一起在名为 `serverfix` 的分支上工作，你可以像推送第一个分支那样推送它。 运行 `git push (remote) (branch)`:
```console
$ git push origin serverfix
```


> 推送的是 `<src>` 本地分支的内容，**写入/更新为** 远程仓库中的 `<dst>` 分支。

### 📌 二、举例说明

#### ✅ 推送到同名分支（简写）

```bash
git push origin serverfix
```

> 等价于：

```bash
git push origin serverfix:serverfix
```

👉 Git 自动将其解释为：

```bash
refs/heads/serverfix:refs/heads/serverfix
```

即：把 **本地的 `serverfix` 分支** 推送到远程的 `serverfix` 分支。

---

#### ✅ 推送到不同名分支

```bash
git push origin serverfix:awesomebranch
```

表示：

-   本地分支：`serverfix`
    
-   推送目标：远程新建或更新 `awesomebranch`
    

🧠 使用场景：

-   重命名远程分支而不改本地名
    
-   多人协作测试不同 feature 的命名策略
    

---
### 🔁 三、理解 refs/heads 的路径展开

Git 本质上是一套 key-value 的引用系统，分支其实是文件系统中的“指针”：

| 符号 | 实际路径 |
| --- | --- |
| `serverfix` | `refs/heads/serverfix` |
| `origin/serverfix` | `refs/remotes/origin/serverfix` |

所以 `serverfix:awesomebranch` 本质上是：

```bash
refs/heads/serverfix => refs/heads/awesomebranch （在远程）
```

---
### 🧠 四、再看 `--track` 参数的作用

```bash
git checkout --track origin/serverfix
```

表示：

1.  **新建一个本地分支** `serverfix`
    
2.  **设置跟踪** 远程分支 `origin/serverfix`

你可以使用如下方式查看其追踪关系：

```bash
git branch -vv
```

或：

```bash
git for-each-ref --format="%(refname:short) => %(upstream:short)"
```

---
