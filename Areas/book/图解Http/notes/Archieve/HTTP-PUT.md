---
tags:
  - note
---
## 1. 核心观点  
PUT是用于将请求主体的内容存储到URI标识的位置，PUT方法自身不带验证机制，一般网站不使用的。[传统web服务器，PUT 不安全的主要原因](../../../../../Zettelkasten/permanent/传统web服务器，PUT%20不安全的主要原因.md)

## 2. 背景/出处  
- 来源：
- 引文/摘要：  
  - …  
  - …  

## 3. 展开说明  
### 1. PUT 方法的核心用途：传输/替换文件
- **目的：** PUT 方法用于请求服务器将请求报文主体中的实体内容**存储**到请求 URI 所标识的位置。
- **语义：** 如果 URI 标识的资源**已存在**，则用请求主体中的内容**完全替换**该资源；如果 URI 标识的资源**不存在**，则服务器会**创建**一个新的资源。
### 2. 工作原理（与 FTP 相似）
- 它类似于 FTP 协议中的文件上传功能，要求请求报文的**实体主体**中包含要传输的完整文件内容。

### 3. 安全性顾虑与实际应用限制（关键点）
- **安全性问题：** 正如你所指出的，**HTTP/1.1 的 PUT 方法自身不带验证机制**。如果在没有任何身份验证或授权机制的情况下开放 PUT，任何人都可以向服务器的任意位置上传或覆盖文件，这会导致严重的安全漏洞（如恶意文件上传、网站内容被篡改）。
- **一般网站不使用：** 因此，传统的、面向公众的 Web 网站通常会禁用或限制直接使用 PUT 方法。
### 4. 现代应用场景（RESTful API）
- **配合验证机制：** PUT 方法必须**配合 Web 应用程序的身份验证和授权机制**（例如登录、API Key 校验、权限检查）才能安全地使用。
- **RESTful 架构：** 在遵循 **REST (Representational State Transfer)** 架构标准的 Web 服务和 API 中，PUT 是一个核心操作：
    - **更新资源：** 用于**完全替换**一个已存在的资源实例（例如，使用新的完整数据替换 `/users/123` 的数据）。
    - **幂等性：** PUT 方法具有**幂等性 (Idempotent)**。重复执行多次相同的 PUT 请求，结果与执行一次的效果是相同的（都是将资源设置为特定的状态）。这是它与 POST 方法的一个重要区别。
    - REST 架构本身并不能消除安全问题，它的优势在于它提供了一个清晰、标准化的框架，使得安全机制（如验证和授权）可以被有效地、逻辑性地配合到 PUT 方法中，从而解决你提到的安全顾虑。
**总结：** PUT 方法在功能上强大，但其在应用中的使用，必须以严格的安全控制为前提。它在现代 Web API (RESTful) 中扮演着更新资源的标准化角色。
![](../asserts/Pasted%20image%2020251014183304.png)
### 5. RESTFUL PUT 的语义得到了充分的利用

RESTful 风格倡导充分利用 HTTP 方法的语义，而 `PUT` 的语义是“**全量替换（完全更新）**”。

- **清晰的意图：** 当客户端发送 `PUT` 请求时，它明确告诉服务器：“请用我提供的这个新文档/数据，完全替换目标 URI 上的现有资源。”
    
- **幂等性（Idempotence）：** 无论执行多少次相同的 `PUT` 请求，结果（资源的状态）都将是相同的。
    
    - `PUT /user/123 {name: "A"}` 执行 1 次，用户 123 的名字是 A。
        
    - `PUT /user/123 {name: "A"}` 执行 100 次，用户 123 的名字仍然是 A。
        
    - 这使得网络通信更加健壮和可靠，特别是在网络不稳定的情况下。
        

相比之下，`POST` 不具备幂等性（重复发送 `POST /users` 会创建多个用户）。RESTful 架构就是为了使用正确的 HTTP 方法来匹配正确的操作语义。
## 4. 与其他卡片的关联  
- 前置卡片：
- 后续卡片：
- 相似主题：
	- [传统开发中，倾向于使用GET和POST](传统开发中，倾向于使用GET和POST.md)
	- [为什么restful风格可以自由使用PUT](../../../../../Zettelkasten/fleeting/为什么restful风格可以自由使用PUT.md)

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
 
  

