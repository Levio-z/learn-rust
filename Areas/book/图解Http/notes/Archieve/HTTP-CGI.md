---
tags:
  - note
---

**CGI** 代表 **Common Gateway Interface (通用网关接口)**。它**本身不是一种编程语言**，而是一个**协议（或标准）**，定义了 Web 服务器如何与外部程序（通常称为 **CGI 脚本**或 **CGI 程序**）进行通信。

### 1. CGI 脚本的核心作用

CGI 脚本是运行在 Web 服务器上的一个程序，它的主要目的是**动态生成网页内容**，从而使网站具备交互性和实时性。

### 2. 工作原理

CGI 脚本充当 Web 服务器和外部应用程序之间的“网关”或“桥梁”。
1. **客户端请求：** 浏览器向 Web 服务器发起请求，请求一个特定的 URI，该 URI 映射到一个 CGI 脚本。
2. **服务器执行脚本：** Web 服务器识别出这是一个 CGI 请求后，它会：
    - **传递数据：** 将 HTTP 请求中的数据（如表单数据、查询参数、HTTP 头部信息等）通过**环境变量**和**标准输入（stdin）**等方式传递给 CGI 脚本。
    - **启动进程：** 在服务器上启动（执行）这个 CGI 脚本作为一个独立的进程。
3. **脚本运行：** CGI 脚本接收数据，执行业务逻辑（例如查询数据库、进行计算、处理用户输入等）。
4. **返回结果：** 脚本将动态生成的结果（通常是完整的 HTML 代码、JSON 数据，或者只是 HTTP 头部信息）通过**标准输出（stdout）**返回给 Web 服务器。
5. **服务器响应：** Web 服务器接收到脚本的输出，将其打包成 HTTP 响应报文，发送回客户端浏览器。
### 3. CGI 脚本的特点
- **语言无关性：** CGI 是一种接口标准，因此 CGI 脚本可以用任何支持在服务器上作为可执行程序运行的编程语言编写，例如 Perl (早期非常流行)、Python、C/C++、Shell 脚本等。
- **独立的进程：** 传统的 CGI 模型中，**每一次**客户端请求，Web 服务器都会为 CGI 脚本创建一个**新的、独立的进程**。
- **历史意义：** CGI 是早期实现动态网站的关键技术。尽管后来被更高效、更现代的 Web 应用架构（如 FastCGI、各种应用服务器、内嵌模块如 Apache 的 mod_php 等）所取代，但**其“服务器与外部程序通信以动态生成内容”的基本概念，仍然是现代 Web 开发的基石**。