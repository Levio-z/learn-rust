在各种网络应用中，端系统彼此交换报文(message)。报文能够包含协议设计者需要的任何东西。
- 报文可以执行一种控制功能(例如，图1-2 所示例子中的“你好”报文)，也可以包含数据，例如电子邮件数据、JPEG图像或MP3音频文件。
- **为了从源端系统向目的端系统发送一个报文，源将长报文划分为较小的数据块，称之为分组(packet)**。在源和目的地之间，每个分组都通过通信链路和分组交换机(packet switch)传送。(交换机主要有两类:路由器(router)和链路层交换机(link-layer switch)。)分组以等于该链路最大传输速率的速度传输通过通信链路。因此，如果某源端系统或分组交换机经过一条链路发送一个L比特的分组，链路的传输速率为R比特/秒，则传输该分组的时间为L/R秒。
### 1.存储转发传输
多数分组交换机在链路的输人端使用存储转发传输(store-and-forward transmission)机制。存储转发传输是指在交换机能够开始向输出链路传输该分组的第一个比特之前，必须接受整个分组。
路由器必须先缓存该分组的比特，仅当接受了该分组的所有比特后，才能开始向出链路传输。
有n-1路由器
端到端 N（L/R）

### 2.排队时延和分组丢失
- 输出缓存：输出队列(output queue))，它用于存储路由器准备发往那条链路的分组。该输出缓存在分组交换中起着重要的作用。如果到达的分组需要传输到某条链路，但发现该链路正忙于传输其他分组，该**到达分组必须在输出缓存中等待**。
- 排队时延(queuing delay)
	- 因此，除了存储转发时延以外，分组还要承受输出缓存的排队时延(queuing delay)。这些时延是变化的，变化的程度取决于网络的拥塞程度。因为缓存空间的大小是有限的，一个到达的分组可能发现该缓存已被其他等待传输的分组完全充满了。在此情况下，将出现**分组丢失**(丢包)(packet loss)，到达的分组或已经排队的分组之一将被丢弃。
### 3. 转发表和路由选择协议
前面我们说过，路由器从与它相连的一条通信链路得到分组，然后向与它相连的另一条通信链路转发该分组。但是路由器怎样决定它应当向哪条链路进行转发呢?不同的计算机网络实际上是以不同的方式完成分组转发的。
在因特网中，每个端系统具有一个称为IP地址的地址。当源主机要向目的端系统发送一个分组时，源在该分组的首部包含了目的地的 IP地址。同邮政地址那样，该地址具有一种等级结构。当一个分组到达网络中的路由器时，路由器检查该分组的目的地址的一部分，并向一台相邻路由器转发该分组。更特别的是，**每台路由器具有一个转发表(forwarding table)，用于将目的地址(或目的地址的一部分)映射成为输出链路**。当某分组到达一台路由器时，路由器检查该地址，并用这个目的地址搜索其转发表，以发现适当的出链路。路由器则将分组导向该出链路。
我们刚刚学习了路由器使用分组的目的地址来索引转发表并决定适当的出链路。
- 路由选择协议自动设置
