rdt3.0是一个功能正确的协议，但并非人人都对它的性能满意，特别是在今天的高速网络中更是如此。rdt3.0性能问题的核心在于它是一个停等协议。
为了评价该停等行为对性能的影响，可考虑一种具有两台主机的理想化场合，一台主机位于美国西海岸，另一台位于美国东海岸，如图 3-17 所示。在这两个端系统之间的光速往返传播时延RTT大约为30毫秒。假定彼此通过一条发送速率R为1Gbps(每秒10°比特)的信道相连。包括首部字段和数据的分组长L为1000字节(8000比特)，发送一个分组进入1Gbps链路实际所需时间是:
![](Pasted%20image%2020250618135526.png)图3-17 停等协议与流水线协议
![](Pasted%20image%2020250618135552.png)
这就是说，发送方只有万分之2.7时间是忙的。从其他角度来看，发送方在 30.008ms内只能发送1000字节，有效的吞吐量仅为267kbps，即使有1Gbps的链路可用也是如此!想象一个不幸的网络经理购买了一条千兆比容量的链路，但他仅能得到267kbps 吞吐量的情况!这是一个形象的网络协议限制底层网络硬件所提供的能力的图例。而且，我们还忽略了在发送方和接收方的底层协议处理时间，以及可能出现在发送方与接收方之间的任何中间路由器上的处理与排队时延。考虑到这些因素，将进一步增加时延，使其性能更糟糕。

这种特殊的性能问题的一个简单解决方法是:不以停等方式运行，允许发送方发送多个分组而无须等待确认，如在图3-17b图示的那样。图3-18b显示了如果发送方可以在等待确认之前发送3个报文，其利用率也基本上提高3倍。因为许多从发送方向接收方输送的分组可以被看成是填充到一条流水线中，故这种技术被称为流水线(pipelining)。流水线技术对可靠数据传输协议可带来如下影响:
![](Pasted%20image%2020250618135751.png)

必须增加序号范围，因为每个输送中的分组(不计算重传的)必须有一个唯一的序号，而且也许有多个在输送中的未确认报文。
协议的发送方和接收方两端也许不得不缓存多个分组。发送方最低限度应当能缓冲那些**已发送但没有确认的分组**。如下面讨论的那样，接收方或许**也需要缓存那些已正确接收的分组**。
所需序号范围和对缓冲的要求取决于数据传输协议如何处理丢失、损坏及延时过大的分组。解决流水线的差错恢复有两种基本方法是:回退N步(Go-Back-NGBN)和选择重传(Selective Repeat，SR)。

