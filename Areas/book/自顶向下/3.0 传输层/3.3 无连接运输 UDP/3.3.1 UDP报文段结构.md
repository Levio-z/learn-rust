- 设计一个不提供不必要服务的最简化的运输层协议
	- 最低限度必须提供一种复用/分解服务，以便在网络层与正确的应用级进程之间传递数据，以便在网络层与正确的应用级进程之间传递数据。
由`[RFC 768]` 定义的UDP只是做了运输协议能够做的最少工作。除了复用/分解功能及少量的差错检测外，它几乎没有对IP 增加别的东西。
- 实际上，如果应用程序开发人员选择 UDP 而不是TCP，则该应用程序差不多就是直接与 IP 打交道。
- UDP 从应用进程得到数据，附加上用于多路复用/分解服务的源和目的端口号字段，以及两个其他的小字段，然后将形成的报文段交给网络层。网络层将该运输层报文段封装到一个 IP 数据报中，然后尽力而为地尝试将此报文段交付给接收主机。如果该报文段到达接收主机，UDP 使用目的端口号将报文段中的数据交付给正确的应用进程。值得注意的是，使用 UDP 时，在发送报文段之前，发送方和接收方的运输层实体之间没有握手。正因为如此，UDP 被称为是无连接的。
例子：DNS
- DNS 是一个通常使用 UDP的应用层协议的例子
- 当一台主机中的 DNS 应用程序想要进行一次查询时，它构造了一个 DNS 查询报文并将其交给UDP。无须执行任何与运行在目的端系统中的 UDP 实体之间的握手，主机端的 UDP 为此报文添加首部字段，然后将形成的报文段交给网络层。网络层将此 UDP 报文段封装进一个 IP 数据报中，然后将其发送给一个名字服务器。在查询主机中的 DNS 应用程序则等待对该查询的响应。如果它没有收到响应(可能是由于底层网络丢失了查询或响应)，则要么试图向另一个名字服务器发送该查询，要么通知调用的应用程序它不能获得响应。
**为什么应用开发人员宁愿在UDP 之上构建应用，而不选择在 TCP上构建应用?**
- 既然TCP提供了可靠数据传输服务，而 UDP 不能提供，那么TCP 是否总是首选的呢?答案是否定的，因为有许多应用更适合用 UDP，原因主要以下几点:
	- 关于发送什么数据以及何时发送的应用层控制更为精细。
		- 采用 UDP 时，只要应用进程将数据传递给UDP，UDP就会将此数据打包进UDP报文段并立即将其传递给网络层。在另一方面，TCP 有一个拥塞控制机制，**以便当源和目的主机间的一条或多条链路变得极度拥塞时来遏制运输层TCP发送方**。TCP仍将继续重新发送数据报文段直到目的主机收到此报文并加以确认，而不管可靠交付需要用多长时间。因为实时应用通常要求最小的发送速率，不希望过分地延迟报文段的传送，且能容忍一些数据丢失，TCP服务模型并不是特别适合这些应用的需要。如后面所讨论的，这些应用可以使用UDP，并作为应用的一部分来实现所需的、超出UDP的不提供不必要的报文段交付服务之外的额外功能。
	- 无须连接建立
		- 如我们后面所讨论的，TCP 在开始数据传输之前要经过三次握手。UDP 却不需要任何准备即可进行数据传输。**因此 UDP 不会引入建立连接的时延。**
		- 这可能是DNS运行在UDP之上而不是运行在TCP之上的主要原因(如果运行在TCP 上，则DNS会慢得多)。HTTP使用TCP而不是UDP，因为对于具有文本数据的 Web 网页来说，可靠性是至关重要的。但是，如我们在2.2 节中简要讨论的那样，HTTP中的TCP连接建立时延对于与下载Web文档相关的时延来说是一个重要因素。用于谷歌的Chrome浏览器中的QUIC协议(快速UDP因特网连接`[Iyen-gar 2015]`)将UDP作为其支撑运输协议并在UDP之上的应用层协议中实现可靠性。
	- 无连接状态
		- TCP需要在端系统中维护连接状态。此连接状态包括接收和发送缓存、拥塞控制参数以及序号与确认号的参数。
		- 我们将在3.5 节看到，要实现TCP 的可靠数据传输服务并提供拥塞控制，这些状态信息是必要的。另一方面，UDP 不维护连接状态，也不跟踪这些参数。**因此，某些专门用于某种特定应用的服务器当应用程序运行在 UDP 之上而不是运行在TCP上时，一般都能支持更多的活跃客户。**
	- 分组首部开销小
		- 每个TCP报文段都有20字节的首部开销，而UDP仅有8字节的开销。
- UDP 用于承载网络管理数据(SNMP，参见5.7 节)。在这种场合下，UDP 要优于TCP，因为网络管理应用程序通常必须在该网络处于重压状态时运行，而正是在这个时候可靠的、拥塞受控的数据传输难以实现。此外，如我们前面所述，DNS 运行在UDP 之上，从而避免了TCP的连接创建时延。

- 我们刚说过，既然所有这些应用**都能容忍少量的分组丢失，因此可靠数据传输对于这些应用的成功并不是至关重要**的。此外，TCP 的拥塞控制会导致如因特网电话、视频会议之类的实时应用性能变得很差。由于这些原因，多媒体应用开发人员通常将这些应用运行在UDP 之上而不是 TCP 之上。当分组丢包率低时，并且为了安全原因，某些机构阻塞 UDP流量(参见第8章)，对于流式媒体传输来说，TCP变得越来越有吸引力了。
