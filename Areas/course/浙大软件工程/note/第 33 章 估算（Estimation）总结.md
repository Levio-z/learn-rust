# 第 33 章 估算（Estimation）总结

本章围绕软件项目估算的核心逻辑、前提条件、方法体系及专项场景展开，核心解决 “如何科学预测项目资源、成本与工作量” 的问题，构建了 “从范围定义到多方法验证” 的估算框架，具体内容如下：

## 一、估算的前提：项目规划与范围界定

### （一）项目规划的目标与任务

#### 1. 规划核心目标

建立 “可控、可跟踪、可监控” 的复杂技术项目管理策略，最终确保软件 “按时交付、符合质量要求”。

#### 2. 项目规划两大任务集

估算需依托完整的项目规划流程，前期需完成基础任务铺垫：

  

|任务集|核心内容|
|---|---|
|**任务集 I（基础准备）**|1. 明确项目范围（界定功能、边界）；  <br>2. 评估可行性（技术 / 经济 / 资源可行性）；  <br>3. 风险分析（识别影响估算的潜在风险，详见第 25 章）；  <br>4. 定义资源需求（人力、可复用软件、环境资源）。|
|**任务集 II（估算与计划）**|1. 成本与工作量估算（分解问题→多方法估算→结果调和）；  <br>2. 制定项目进度（定义任务集、构建任务网络、生成时间线，详见第 34 章）；  <br>3. 建立进度跟踪机制。|

### （二）范围界定：估算的 “基础锚点”

#### 1. 范围的核心定义

软件范围描述 “待交付给用户的核心内容与边界约束”，具体包括：

  

- **功能与特性**：用户可使用的功能（如 “登录、支付”）；
- **数据与内容**：输入 / 输出数据（如 “用户信息、订单数据”）、展示给用户的内容（如 “商品详情页”）；
- **约束条件**：性能（如 “响应时间 < 2 秒”）、接口（如 “对接第三方支付”）、可靠性（如 “故障率 < 0.1%”）。

#### 2. 范围定义方法

- 方法 1：与所有利益相关者沟通后，形成 “范围描述文档”（ narrative description）；
- 方法 2：由最终用户主导，生成 “用例集”（use-cases），覆盖核心用户场景。

#### 3. 范围理解的关键原则

- 需深入理解用户需求、业务背景、项目边界与用户动机；
- 预判潜在变更路径（如 “用户可能后续新增会员功能”）；
- 即使范围明确，仍存在不确定性（需预留缓冲）。

## 二、估算的核心认知：要素、风险与准确性

### （一）估算的三大核心要素

科学估算需依赖三类基础支撑，缺一不可：

  

1. **经验**：项目团队过往的同类项目经验；
2. **历史数据（度量指标）**：可复用的历史项目数据（如 “同类项目的 LOC / 人月生产率”）；
3. **决策勇气**：在仅掌握定性信息时，敢于给出定量预测（如 “基于需求文档初步估算工作量”）。

### （二）估算的固有属性：风险与不确定性

估算本质是 “基于现有信息的预测”，必然伴随风险（如需求变更、技术难题），需接受 “估算结果非绝对精确”，但可通过多方法验证降低偏差。

### （三）估算准确性的影响因素

估算结果的可信度取决于四大维度：

  

1. 对 “产品规模” 的估算精度（如 LOC/FP 的预测是否接近实际）；
2. 规模到 “人力 / 时间 / 成本” 的转换能力（依赖历史度量数据，如 “1000 LOC 需 2 人月”）；
3. 项目计划与团队能力的匹配度（如 “团队生产率低却按高生产率估算”）；
4. 需求与开发环境的稳定性（需求频繁变更或环境不稳定会大幅降低估算准确性）。

## 三、核心估算方法体系：从传统到专项

估算需采用 “多方法交叉验证”，避免单一方法的偏差，核心方法分为五大类：

### （一）传统方法：LOC 与 FP 估算（基于产品规模）

通过预测软件 “规模”（LOC：代码行数；FP：功能点），结合历史生产率数据，推导工作量与成本，是最基础的估算思路。

#### 1. LOC（Lines of Code）方法

#### 步骤：

1. 分解项目功能模块（如 “用户界面、数据库管理、图形显示”）；
2. 估算每个模块的 LOC 数量；
3. 汇总得到总 LOC；
4. 结合历史生产率（LOC / 人月）与人工成本（元 / 人月），计算工作量与成本。

#### 示例：

某项目分解为 7 个模块，总估算 LOC=33200 行，历史数据如下：

  

- 生产率 = 620 LOC / 人月；
- 负担人工成本 = 8000 元 / 人月 → 单位 LOC 成本 = 8000/620≈13 元；
- 总工作量 = 33200/620≈54 人月；
- 总成本 = 33200×13≈43.1 万元。

#### 2. FP（Function Point，功能点）方法

#### 步骤：

1. 计算 “信息域值”（输入数、输出数、查询数、文件数、外部接口数），每个值取 “乐观 / 可能 / 悲观” 三类估算，最终调和为 “加权计数”；
2. 计算功能点总数：计数总和（Fi为复杂度调整因子，此处示例中∑(Fi)未额外添加，故FPestimated​=375）；
3. 结合历史生产率（FP / 人月）与人工成本，推导工作量与成本。

#### 示例：

某项目FPestimated​=375，历史数据如下：

  

- 生产率 = 6.5 FP / 人月；
- 负担人工成本 = 8000 元 / 人月 → 单位 FP 成本 = 8000/6.5≈1230 元；
- 总工作量 = 375/6.5≈58 人月；
- 总成本 = 375×1230≈46.1 万元。

### （二）过程基估算（Process-Based Estimation）：基于活动的预测

#### 1. 核心思路

以 “软件过程框架” 为基础，将项目分解为 “框架活动”（如需求分析、设计、编码、测试）与 “应用功能”（如用户界面、数据分析），估算 “每个功能在每个活动中的工作量”，最终汇总得到总工作量。

#### 2. 示例

某项目包含 7 个应用功能（UICF、2DGA 等），框架活动包括 “客户沟通（CC）、规划、风险分析、工程（分析 + 设计）、构建（编码 + 测试）、发布、客户评估（CE）”，估算每个功能在各活动中的工作量（人月）：

  

- 汇总总工作量 = 46 人月；
- 负担人工成本 = 8000 元 / 人月；
- 总成本 = 46×8000=36.8 万元。

#### 优势：

更贴合项目执行流程，能精准定位 “高工作量活动 / 功能”（如示例中 “构建阶段” 占总工作量 45%），便于资源倾斜。

### （三）工具基估算（Tool-Based Estimation）：自动化辅助

#### 1. 核心逻辑

依托估算工具，输入 “项目特征”（如规模、复杂度）、“校准因子”（如团队生产率调整系数）、“历史 LOC/FP 数据”，由工具自动计算工作量、成本与进度。

#### 2. 价值

减少人工计算误差，支持快速迭代估算（如需求变更后快速更新预测），但需依赖高质量的历史数据校准工具参数。

### （四）用例基估算（Estimation with Use-Cases）：基于用户场景

#### 1. 核心思路

以 “用例” 为单位估算规模，再结合生产率推导工作量与成本：

  

1. 统计项目总用例数；
2. 基于历史数据，确定 “每个用例对应的平均 LOC 数”（或直接用 “用例数 × 生产率”）；
3. 结合 LOC / 人月生产率与人工成本计算结果。

#### 2. 示例

某项目用例估算对应总 LOC=42400 行（隐含计算），历史生产率 = 620 LOC / 人月，负担人工成本 = 8000 元 / 人月：

  

- 总工作量 = 42400/620≈68 人月；
- 总成本 = 42400×13≈55.2 万元。

### （五）经验模型估算（Empirical Estimation Models）：数学公式推导

#### 1. 通用模型形式

基于历史数据拟合数学公式，核心形式为：  
工作量调整系数规模指数

  

- 工作量：通常以 “人月” 为单位；
- 规模：LOC 或 FP；
- 调整系数 / 指数：由项目复杂度、团队能力等因素决定，通过历史数据实证推导。

#### 2. 典型模型：COCOMO-II（层次化模型）

COCOMO-II 是针对不同项目阶段的分层估算模型，覆盖全生命周期：

  

- **应用组合模型（Application Composition Model）**：早期原型阶段使用，聚焦用户界面原型、技术成熟度评估；
- **早期设计阶段模型（Early Design Stage Model）**：需求稳定、基础架构确定后使用，基于初步设计估算；
- **后架构阶段模型（Post-architecture-Stage Model）**：软件构建阶段使用，基于详细架构与设计精准估算。

#### 3. 软件方程（The Software Equation）

动态多变量模型，考虑项目持续时间对工作量的影响，公式为：  
E=[LOC×B0.333/P]3×(1/t4)

  

- E：工作量（人月 / 人年）；
- t：项目持续时间（月 / 年）；
- B：“特殊技能因子”（如团队是否具备新技术能力）；
- P：“生产率参数”（基于历史数据，如优秀团队P=1000，普通团队P=500）。

## 四、专项场景估算：OO 项目与敏捷项目

### （一）面向对象（OO）项目估算

OO 项目以 “类” 和 “用例” 为核心，估算步骤如下：

  

1. 用传统方法（如 FP、工作量分解）初步估算；
2. 从分析模型中统计 “关键类” 数量（核心业务类，如 “用户类、订单类”）；
3. 根据界面类型确定 “支持类乘数”（无 GUI=2.0、文本 GUI=2.25、标准 GUI=2.5、复杂 GUI=3.0）；
4. 计算支持类数量 = 关键类数量 × 乘数；
5. 总类数 = 关键类 + 支持类，按 “15-20 人天 / 类” 估算总工作量；
6. 用 “用例 × 平均人天 / 用例” 交叉验证结果。

### （二）敏捷项目估算

敏捷以 “增量交付” 为核心，估算聚焦 “用户场景（迷你用例）”，步骤如下：

  

1. 拆分每个用户场景为具体软件工程任务（如 “用户登录” 拆分为 “界面设计、接口开发、测试”）；
2. 单独估算每个任务（基于历史数据、经验或体积度量如 LOC/FP）；
3. 汇总单个场景的任务估算，得到场景工作量；
4. 汇总 “某增量需实现的所有场景” 工作量，得到该增量的总估算。

## 五、特殊决策：“自制 - 购买 - 复用” 决策的估算

当项目涉及 “自主开发、复用现有软件、购买商业软件、外包开发” 的选择时，需通过 “期望成本” 量化决策，步骤如下：

  

1. 为每个选项（自制、复用、购买、外包）定义 “不同场景的概率与成本”（如自制分 “顺利 = 0.3 概率，成本 38 万”“复杂 = 0.7 概率，成本 45 万”）；
2. 计算每个选项的期望成本：期望成本场景概率场景成本；
3. 选择期望成本最低的方案。

#### 示例：

- 自制期望成本 = 0.3×38 万 + 0.7×45 万 = 42.9 万；
- 复用期望成本 = 38.2 万；
- 购买期望成本 = 26.7 万；
- 外包期望成本 = 41 万；
- 决策：优先选择 “购买”（期望成本最低）。

## 六、核心总结

估算的本质是 “基于信息的科学预测”，核心原则与价值如下：

  

1. **基础先行**：必须先明确项目范围，否则估算无锚点；
2. **多法验证**：至少使用 2 种不同方法（如 LOC+FP），调和结果降低偏差；
3. **数据驱动**：历史度量数据（生产率、成本系数）是估算准确性的关键；
4. **场景适配**：OO 项目、敏捷项目需采用贴合其特性的估算方法；
5. **风险预留**：接受估算的不确定性，为变更、风险预留缓冲资源。

  

最终目标是通过合理估算，为项目资源分配、进度制定提供可靠依据，避免 “工期延误、成本超支”。