# 第 11 章 需求建模：行为、模式与 Web / 移动应用（Requirements Modeling: Behavior, Patterns, and Web/Mobile Apps）总结

本章在前期需求建模基础上，进一步拓展三大核心内容：**行为建模**（刻画系统响应逻辑）、**流程导向建模**（描述数据流转）、**Web / 移动应用专项建模**（适配特定场景需求），同时补充软件规格说明的规范与验证要求，形成完整的需求建模体系，具体内容如下：

## 一、行为建模（Behavioral Modeling）：刻画系统对外部事件的响应

行为建模聚焦 “系统如何对外部事件 / 刺激做出反应”，核心通过**状态图**与**序列图**实现，需遵循标准化建模步骤：

### 1. 行为建模的 5 大步骤

1. **梳理用例**：全面分析所有用例，明确用户与系统的交互序列（如 “房主设置报警” 的每一步操作）；
2. **识别驱动事件**：提取触发系统行为的外部事件（如 “输入密码”“传感器触发”），并关联到具体对象（如 “密码输入” 关联 “用户” 对象，“传感器触发” 关联 “传感器” 对象）；
3. **为每个用例构建序列**：按时间顺序描述用例中 “对象 - 交互 - 事件” 的关系（如 “用户→输入密码→系统验证→返回结果”）；
4. **绘制系统状态图**：刻画系统或核心对象的状态变化（如 “系统就绪→验证中→验证成功→报警开启”）；
5. **验证模型**：检查行为模型与需求的一致性、准确性，确保无遗漏或矛盾。

### 2. 行为建模的两类 “状态”

建模需区分两种核心状态，避免混淆系统整体与局部行为：

  

- **类级状态**：单个类（如 “控制面板（ControlPanel）”）的状态变化（如 “待机→接收指令→执行操作→返回结果”）；
- **系统级状态**：从外部观察到的整个系统的状态（如 “系统离线→在线→报警中→正常运行”）。

### 3. 核心工具：状态图与序列图

- **状态图**：用 “状态节点（矩形）”“转移箭头”“触发事件” 描述状态流转，如 “ControlPanel” 的状态图包含 “Reading Commands”“System Ready”“Error Handling” 等状态，及 “输入指令”“指令执行完成” 等触发转移的事件；
- **序列图**：按时间轴展示 “对象间交互顺序”，横轴为对象（如 “用户”“系统”“数据库”），纵轴为时间，箭头表示消息传递（如 “用户发送登录请求→系统验证→数据库查询→返回结果”）。

## 二、流程导向建模（Flow-Oriented Modeling）：描述数据在系统中的流转

流程导向建模以 “数据” 为核心，通过**数据流图（DFD）** 展示 “数据输入→处理→输出” 的全流程，核心是 “系统 = 数据 + 功能” 的思想。

### 1. 数据流图的 4 大核心元素

|元素类型|图形标识|定义|示例（公共图书馆信息系统）|
|---|---|---|---|
|**外部实体（External Entity）**|矩形框|系统之外与系统交互的人 / 设备，是数据的来源或目的地|“用户”“书架（Shelves）”|
|**处理（Process）**|圆角矩形|对数据进行转换的操作，有明确输入输出|“Get a book（获取书籍）”“Search by topics（按主题搜索）”|
|**数据存储（Data Stores）**|开口矩形|存储系统需长期保留的数据|“List of Authors（作者列表）”“List of books borrowed（借阅书籍列表）”|
|**数据流（Data Flow）**|带箭头的线|数据的流向，标注数据内容|“Book request by user（用户书籍请求，含书名、作者、用户名）”|

### 2. 建模示例：公共图书馆信息系统

以 “用户请求书籍” 和 “用户按主题搜索书籍” 两个核心场景为例，数据流图逻辑如下：

  

- **场景 1：获取书籍**  
    外部实体 “用户”→输入 “书籍请求（书名、作者、用户名）”→处理 “Get a book”→从数据存储 “List of Authors”“Shelves” 获取数据→输出 “书籍” 和 “借阅列表” 给用户；
- **场景 2：按主题搜索**  
    外部实体 “用户”→输入 “主题请求（Topic）”→处理 “Search by topics”→从数据存储 “List of topics”“List of titles” 获取数据→输出 “主题相关书名列表” 给用户。

### 3. 数据流图的分层细化（Data Flow Hierarchy）

为应对复杂系统，数据流图采用 “自顶向下” 的分层细化策略，确保清晰度：

  

- **0 层图（Level 0）**：展示系统整体数据流程，仅包含 1 个核心处理（如 “图书馆信息系统”）、输入输出数据流及外部实体；
- **1 层图（Level 1）**：将 0 层的核心处理拆分为多个子处理（如 “Get a book” 拆分为 “Find book position（查找书籍位置）” 和 “Get a book（获取书籍）”），补充子处理间的数据流；
- **2 层图（Level 2）**：进一步拆分 1 层中的子处理（如 “Find book position” 拆分为 “查询作者”“匹配书名”“定位书架号”），直至每个处理的逻辑足够简单、可理解。

## 三、软件规格说明（Software Specification）：规范需求的文档化表达

需求建模的最终输出需转化为 “软件需求规格说明书（SRS）”，需遵循标准化格式与验证要求，确保可执行、可追溯。

### 1. 规格说明的 6 大核心准则

1. **分层结构**：按 “概述→细节” 逐步深入，如先介绍项目背景，再细化用例、模型；
2. **符号与术语一致**：图形符号（如 DFD、UML）和文本术语统一，避免别名（如 “用户” 不混用 “客户”）；
3. **明确缩写定义**：对所有 acronyms（如 DFD、SRS）在文档开头定义，避免理解偏差；
4. **完善文档结构**：包含目录，理想情况下补充索引和术语表；
5. **简洁无歧义**：用简单语言描述，避免模糊表述（如 “快速响应” 需量化为 “响应时间≤1 秒”）；
6. **换位思考**：以读者视角审视文档，确保非项目核心人员也能理解。

### 2. 软件需求规格说明书（SRS）示例要求

以 2015 年 4 月 19 日提交的 SRS 为例，明确内容要求、评分标准与关注要点：

  

|内容模块|分值|核心要求|
|---|---|---|
|引言（Introduction）|2 分|项目背景、目标、范围概述|
|用户场景（User Scenarios）|8 分|覆盖核心用户交互场景，描述清晰|
|数据流图（DFD）|7 分|分层细化，元素完整，逻辑正确|
|状态图（State Diagrams）|5 分|覆盖系统 / 核心对象的状态变化|
|类图与 CRC 卡（Class Diagrams & CRC Cards）|10 分（各 5 分）|类定义准确，CRC 卡职责与协作清晰|
|验证标准（Validation Criteria）|15 分|覆盖≥90% 功能，作为 1.0 版本验收测试依据|
|文档语言风格统一|3 分|格式、术语、表述风格一致|
|总分|50 分 × 参与人数|-|

## 四、Web / 移动应用的需求建模：适配专项场景

Web / 移动应用因 “用户交互频繁、多端适配、内容驱动” 等特点，需针对性调整建模方法，核心判断 “是否需要分析” 及 “分析维度”。

### 1. Web / 移动应用需开展需求分析的 5 种场景

仅当满足以下条件之一时，需进行正式需求建模（简单应用可简化）：

  

- 应用规模大或复杂度高（如电商平台、政务系统）；
- 利益相关者数量多（需协调多方需求）；
- 开发团队规模大或成员首次协作（需统一需求认知）；
- 应用成功与否对业务影响重大（如核心营收产品）。

### 2. Web / 移动应用的 5 大专项分析维度

|分析维度|核心内容|建模目标|
|---|---|---|
|**内容分析（Content Analysis）**|梳理应用包含的所有内容类型：文本（如商品描述）、图形 / 图片（如产品图）、视频（如教程）、音频（如语音导航）|明确内容来源、格式、更新频率，确保内容完整性|
|**交互分析（Interaction Analysis）**|用例刻画用户与应用的交互（如 “用户浏览商品→加入购物车→结算”）|覆盖所有用户操作场景，避免交互遗漏|
|**功能分析（Functional Analysis）**|用例定义内容操作与处理功能：  <br>- 内容操作（如 “搜索商品”“编辑个人资料”）  <br>- 后台处理（如 “订单计算”“数据同步”）|明确应用需实现的功能范围，无功能缺口|
|**配置分析（Configuration Analysis）**|定义部署环境与基础设施：  <br>- 服务端：服务器硬件 / OS、接口协议、互操作性要求  <br>- 客户端：浏览器兼容性（如支持 Chrome/Firefox）、测试需求|确保应用在目标环境中可正常运行|
|**导航分析（Navigation Analysis）**|通过关键问题明确导航设计规则（详见下文）|优化用户导航体验，降低操作复杂度|

### 3. 导航建模的核心问题（Navigation Modeling）

导航是 Web / 移动应用的核心体验，需通过 12 个关键问题明确设计方向，覆盖 “优先级、容错、方式、用户适配” 等维度：

#### （1）导航优先级与引导

1. 是否部分元素需更易访问（更少导航步骤）？优先级如何设定？
2. 是否需强调某些元素以引导用户导航方向？
3. 导航错误如何处理（如 “404 页面”“返回上一级”）？

#### （2）导航方式与上下文

4. 应优先导航到相关元素组，还是特定元素？
5. 导航需通过链接、搜索，还是其他方式（如标签栏）？
6. 是否需根据用户历史导航行为推荐内容？
7. 是否需为用户维护导航日志？

#### （3）导航入口与存储

8. 用户交互的每个节点是否需提供完整导航地图 / 菜单（而非仅 “返回” 键）？
9. 导航设计应基于用户常见行为，还是元素重要性？
10. 用户能否保存历史导航记录以加快后续使用？

#### （4）用户适配与外部链接

11. 需为哪类用户（如新手 / 老手）优化导航？
12. 外部链接如何处理（覆盖当前窗口、新窗口、独立框架）？

### 4. 配置模型（Configuration Model）：保障多端兼容性

- **服务端配置**：明确服务器硬件 / OS 型号、接口协议（如 HTTP/HTTPS）、与其他系统的互操作性（如对接支付网关）；
- **客户端配置**：识别浏览器兼容性要求（如最低版本）、移动设备适配（如 iOS/Android 分辨率），并定义对应的测试需求（如多浏览器测试）。