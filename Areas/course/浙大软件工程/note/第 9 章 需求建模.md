# 第 9 章 需求建模：基于场景的方法（Requirements Modeling: Scenario-Based Methods）总结

本章聚焦 “基于场景的需求建模”，以 “用例（Use-Case）” 为核心工具，从需求分析基础、建模原则、场景化模型构建，到辅助图表应用，系统梳理了如何通过 “用户场景” 刻画软件需求，同时关联领域分析与其他建模方法，形成完整的需求表达体系，具体内容如下：

## 一、需求分析的基础框架

### 1. 需求分析的核心目标

需求分析是需求工程的关键环节，需达成三大目标：

  

- 精准描述客户的需求（What the customer requires）；
- 为软件设计提供明确依据（Basis for design creation）；
- 定义可验证的需求集合（Verifiable requirements set）。

  

通过分析，软件工程师（此时角色为 “分析师 / 建模者”）需完成两项核心工作：

  

- 细化前期需求工程阶段（如启动、获取）确立的基础需求；
- 构建多维度模型（用户场景、功能活动、问题类关系、系统行为、数据流转），全面刻画软件的信息域、功能与行为。

### 2. 分析模型的 “桥梁作用”

分析模型是连接 “系统描述（客户需求）” 与 “设计模型（技术实现）” 的关键桥梁，需确保需求从 “业务语言” 平滑转换为 “技术语言”，避免需求与设计脱节。

### 3. 建模的 6 大基本原则（Rules of Thumb）

构建分析模型需遵循 “聚焦需求、简化清晰、价值导向” 的原则：

  

1. 模型聚焦**问题 / 业务域内的可见需求**，保持较高抽象层级（避免过早引入技术细节，如服务器选型、编程语言）；
2. 模型的每个元素需**提升对软件需求的整体理解**，明确反映信息域、功能或系统行为；
3. 暂缓考虑基础设施与非功能模型（如性能、安全性），待设计阶段再细化；
4. 最小化系统内的耦合度（减少模块间依赖），提升可维护性；
5. 确保分析模型对**所有利益相关者有价值**（如客户能验证需求、开发者能明确设计方向）；
6. 保持模型简洁性，避免冗余或过度复杂的表述。

## 二、领域分析：为需求建模提供 “领域知识基础”

领域分析是针对特定应用领域（如安防系统、电商平台）的共性需求提取与复用，为场景建模提供 “领域级” 支撑：

### 1. 核心目标

识别、分析并规范特定领域的**共性需求**，用于该领域内多个项目的复用，减少重复建模工作。

### 2. 领域知识来源

需从多渠道收集领域信息，确保需求的全面性：

  

- 技术文献（领域内的标准、论文、手册）；
- 现有应用（同领域已上线系统的功能与问题）；
- 客户调研（领域内客户的通用需求与痛点）；
- 专家建议（领域内技术或业务专家的经验）；
- 当前 / 未来需求（现有业务需求与潜在发展需求）。

### 3. 领域分析模型输出

将领域知识转化为标准化模型元素，便于复用：

  

- 类分类法（领域内核心类的层次结构，如 “安防系统” 领域的 “传感器→门磁传感器 / 红外传感器”）；
- 复用标准（领域内通用的需求规范或设计标准）；
- 功能模型（领域内典型的功能流程，如 “报警触发→信息推送→处理反馈”）；
- 领域语言（领域专用术语表，统一利益相关者的沟通口径）。

## 三、需求模型的四大类型

需求建模需覆盖 “场景、类、流程、行为” 四个维度，其中 “场景化模型” 是本章核心，其他模型为补充：

  

|模型类型|核心工具|作用|
|---|---|---|
|**场景化模型（Scenario-Based）**|用例（文本）、用例图、活动图、泳道图|从用户视角描述 “如何使用系统”，刻画交互流程|
|**类模型（Class-Based）**|类图、分析包、CRC 模型、协作图|从 “实体” 视角描述系统中的类、属性及类间关系（详见第 10 章）|
|**流程导向模型（Flow-Oriented）**|数据流图、控制流图、处理说明|描述数据在系统中的流转与处理逻辑|
|**行为模型（Behavioral）**|状态图、序列图|描述系统或类的状态变化与交互时序|

## 四、场景化建模：以 “用例” 为核心

场景化建模围绕 “用户与系统的交互场景” 展开，核心工具是 “用例”，需明确建模逻辑、步骤与验证方法：

### 1. 用例的核心概念

- **用例（Use-Case）**：描述 “用户使用系统完成特定目标” 的场景（如 “房主通过互联网查看安防摄像头画面”），是 “使用线程（Thread of Usage）” 的文本或图形化表达；
- **角色（Actor）**：与系统交互的人或设备，代表 “使用系统的角色”（非具体个人），一个用户可扮演多个角色（如 “房主” 可同时是 “系统管理员”）；
- **核心价值**：明确 “系统外部的角色” 与 “系统需执行的功能”，界定需求边界。

### 2. 用例开发的 4 个关键问题

构建用例前需明确建模范围与细节，避免方向偏差：

  

1. 用例需描述**哪些内容**？（聚焦用户目标相关的交互，而非无关细节）；
2. 用例描述需**详细到什么程度**？（以利益相关者能理解且无歧义为标准）；
3. 描述的**细化层级**如何把握？（避免过粗导致需求模糊，或过细引入技术细节）；
4. 用例描述需**如何组织**？（可按 “目标 - 前置条件 - 步骤 - 后置条件” 的模板结构化表述）。

### 3. 用例开发的 5 个核心问题（确保需求完整）

开发用例时，需通过以下问题覆盖用户交互的全场景：

  

1. 角色（Actor）需执行哪些**核心任务 / 功能**？（如 “房主” 需 “设置报警”“查看摄像头”）；
2. 角色会从系统**获取、生成或修改哪些信息**？（如获取 “报警记录”、生成 “设备配置信息”、修改 “密码”）；
3. 角色是否需向系统**告知外部环境变化**？（如 “传感器故障”“门窗被打开”）；
4. 角色希望从系统**获取哪些信息**？（如实时摄像头画面、历史报警日志）；
5. 角色是否需被通知**意外情况**？（如 “设备离线”“异常入侵”）。

### 4. 用例评审：补充 “替代场景”

用例初稿通常为 “主场景”（正常流程），需通过评审补充 “替代场景”（异常或分支流程），确保覆盖所有可能交互：

  

- 评审问题示例：
    1. 角色在当前步骤是否有**其他操作选择**？（如 “输入密码” 后，是否可 “忘记密码” 重置）；
    2. 角色是否可能遇到**错误场景**？（如 “密码输入错误”“网络中断”）；
    3. 角色是否可能触发**其他系统行为**？（如 “查看摄像头” 时，是否可 “切换摄像头角度”）；
- 输出：完善的用例需包含 “主场景 + 替代场景”，避免需求遗漏。

### 5. 用例图：可视化用例与角色关系

用例图是用例的图形化表达，核心元素包括：

  

- **系统边界**：用矩形框表示，界定系统的范围；
- **角色（Actor）**：用 “小人” 图标表示，位于系统边界外；
- **用例**：用 “椭圆” 表示，位于系统边界内，标注用例名称（如 “Access camera surveillance via the Internet”“Set alarm”）；
- **关联线**：连接角色与用例，表示 “该角色可执行此用例”；
- **示例（SafeHome 安防系统）**：角色 “Homeowner（房主）” 与用例 “Access camera surveillance（访问摄像头监控）”“Configure system parameters（配置系统参数）”“Set alarm（设置报警）” 通过关联线连接，直观展示用户与系统功能的对应关系。

## 五、场景化建模的辅助图表：活动图与泳道图

当用例涉及 “多步骤流程” 或 “多角色协作” 时，需用活动图与泳道图补充，提升流程清晰度：

### 1. 活动图（Activity Diagram）

- **作用**：以图形化方式展示用例的 “步骤流程”，包括正常步骤、分支（如成功 / 失败路径）、循环等；
- **核心元素**：
    - 活动（矩形框，标注具体操作，如 “Enter password and user ID”“View camera output”）；
    - 分支（菱形框，标注判断条件，如 “Valid passwords/ID”“Invalid passwords/ID”）；
    - 流向线（箭头，连接活动与分支，指示流程方向）；
- **示例**：“访问摄像头监控” 的活动图，包含 “输入账号密码→验证→选择摄像头→查看画面” 的主流程，以及 “密码错误→重新输入”“无输入→提示重试” 的分支流程。

### 2. 泳道图（Swim Lane Diagram）

- **作用**：在活动图基础上，增加 “责任方（角色或分析类）” 维度，明确每个活动的执行者，避免责任模糊；
- **核心元素**：
    - 泳道（纵向或横向分区，标注责任方，如 “房主”“系统后台”“摄像头设备”）；
    - 活动（位于对应泳道内，表明该责任方负责的操作）；
- **价值**：当用例涉及多角色协作时（如 “报警处理” 需 “房主→系统→监控中心” 配合），泳道图可清晰展示 “谁在什么环节做什么”，减少协作冲突。

## 六、核心总结：场景化建模的价值与应用

基于场景的建模（用例为核心）是需求分析的 “用户视角” 核心，其价值在于：

  

1. **贴近用户认知**：以 “用户如何使用” 为出发点，避免技术驱动导致的需求偏离；
2. **明确需求边界**：通过 “角色 - 用例” 关系，界定系统需实现的功能范围；
3. **便于多方沟通**：文本化用例与图形化图表（用例图、活动图）可被客户、开发者、测试人员共同理解，减少沟通偏差；
4. **支撑后续设计**：用例中的流程与信息需求，可直接转化为设计阶段的 “模块功能” 与 “数据交互” 需求。

  

场景化建模需与类模型、流程模型、行为模型结合，形成 “多维度、无死角” 的需求分析体系，为软件设计与开发提供完整依据。