# 第 5 章 敏捷开发（Agile Development）

## 一、敏捷软件开发宣言（The Manifesto for Agile Software Development）

我们正在通过实践以及帮助他人实践，探索更好的软件开发方式。通过这项工作，我们形成了如下价值观：

### 1. **个体与交互高于流程与工具**

- **意思**：软件开发成功的关键在于开发团队成员之间的互动和合作，而不仅仅依赖于某些固定的工具或开发流程。虽然工具和流程能够帮助开发工作更高效，但人的能力、团队合作与沟通才是最重要的因素。
    
- **示例**：即使使用了最先进的开发工具或流程，如果团队成员之间沟通不畅或合作不佳，项目也很难成功。
    

### 2. **可工作的软件高于详尽的文档**

- **意思**：开发的重点应放在能够交付、运行的代码上，而不是详尽的文档。虽然文档能帮助团队理解需求和代码结构，但它不应成为进度的主要衡量标准，特别是在开发过程中，实际可用的软件才是最重要的交付物。
    
- **示例**：开发一个功能可能比花费大量时间编写和更新文档更能推动项目进展。
    

### 3. **客户协作高于合同谈判**

- **意思**：与客户的合作和沟通应是项目的核心，而不是在合同中设定详细的条款。敏捷方法强调与客户的持续互动和反馈，以确保开发的方向符合客户的需求，而不是在项目初期就定死合同条款。
    
- **示例**：在项目进行中，客户的需求可能会发生变化，因此定期与客户沟通并调整项目目标比严格遵守合同条款更能保证最终产品的成功。
    

### 4. **响应变化高于遵循计划**

- **意思**：敏捷开发方法鼓励灵活应对需求变化，而不是固守原定的计划。市场、技术或客户需求的变化可能使得原有的计划失效，适应变化并快速调整是更为重要的能力。
    
- **示例**：即使在开发过程中原计划发生变化，敏捷开发团队也应该能够灵活调整开发方向，以应对新的挑战。

  

也就是说，尽管右侧的内容也有价值，但我们更看重左侧的内容。

  

—— 肯特・贝克（Kent Beck）等人

## 二、什么是 “敏捷性”（Agility）？

敏捷性的核心特征的包括：

  

- 对变化的有效（快速且适应性强的）响应能力
- 所有利益相关者之间的有效沟通
- 让客户参与到团队中
- 合理组织团队，确保团队能自主掌控所执行的工作

  

最终实现：**软件的快速、增量式交付**

## 三、敏捷性与变更成本（Agility and the Cost of Change）

| 流程类型   | 变更成本特征             |
| ------ | ------------------ |
| 传统软件流程 | 随着开发进度推进，变更成本急剧上升  |
| 敏捷流程   | 变更成本增长平缓，始终保持在较低水平 |
| 理想敏捷流程 | 变更成本几乎稳定，不受开发进度影响  |

  

（注：文档中包含对应成本变化趋势图，核心逻辑为：敏捷流程通过迭代式开发和早期反馈，降低了后期变更的复杂度与成本）

## 四、敏捷流程的核心特征（An Agile Process）

1. 由客户对需求的描述（场景）驱动
2. 承认计划的时效性短（需持续调整）
3. 以迭代方式开发软件，重点强调构建活动
4. 交付多个 “软件增量”（每次迭代交付部分可用功能）
5. 能根据变更灵活调整

## 五、敏捷原则（Agility Principles）

### （一）敏捷原则 I

1. 最高优先级是**通过早期和持续交付有价值的软件来满足客户需求**。
2. **欢迎变更需求，即使在开发后期也不例外。敏捷流程能利用变更为客户创造竞争优势**。
3. **频繁交付**可工作的软件，周期从几周到几个月不等，且倾向于更短的周期。
4. 业务人员与开发人员必须在整个项目期间**每日协作**。
5. 围绕有动力的个体构建项目，为他们提供所需的环境和支持，并信任他们能完成工作。
6. 团队内部及团队间传递信息最有效、最高效的方式是**面对面沟通**。

### （二）敏捷原则 II

7. **可工作的软件是衡量进度的首要标准**。
8. 敏捷流程倡导**可持续开发**。发起人、开发人员和用户应能**长期保持稳定的工作节奏**。
9. 持续**关注技术卓越和良好设计，可增强敏捷性**。
10. 简洁性 —— 即最大化未完成工作的艺术 —— 至关重要。
11. 最佳的架构、需求和设计来自自组织团队。
12. 团队应定期反思如何提高效率，并据此调整自身行为。

## 六、人的因素（Human Factors）

- 敏捷流程需**适配人员与团队的需求**，而非让人员 / 团队适配流程。
- 敏捷团队及成员需具备以下关键特质：
    - 能力（Competence）：具备完成工作所需的技术与业务能力
    - 共同目标（Common focus）：团队成员对齐核心目标
    - 协作（Collaboration）：主动配合、共享信息
    - 决策能力（Decision-making ability）：能快速做出合理决策
    - 模糊问题解决能力（Fuzzy problem-solving ability）：应对需求不明确的场景
    - 相互信任与尊重（Mutual trust and respect）：建立高效团队氛围
    - 自组织（Self-organization）：自主分配任务、管理进度

## 七、极限编程（Extreme Programming, XP）

极限编程是应用最广泛的敏捷流程，由肯特・贝克（Kent Beck）最初提出，核心涵盖规划、设计、编码、测试四大环节。

### （一）XP 规划（XP Planning）

1. 从创建 “用户故事”（user stories）开始（用户以自然语言描述需求场景）。
2. 敏捷团队评估每个用户故事的成本（如工作量）。
3. 将用户故事分组，形成可交付的增量。
4. 确定增量的交付日期并做出承诺。
5. **完成第一个增量后，计算 “项目速度”（project velocity，即团队单位时间内完成的工作量）**，用于确定后续增量的交付日期。

### （二）XP 设计（XP Design）

1. 遵循 **KIS 原则**（Keep It Simple，保持简洁），避免过度设计。
	-  **意思**：在设计和开发中，始终追求简单、清晰的解决方案，避免复杂的、不必要的功能和设计。**过度设计**（Over-engineering）会导致系统变得更加难以理解、维护和扩展。KIS 原则鼓励开发人员在满足当前需求的前提下，选择最简单、最直接的方案。
	- **示例**：如果系统需要一个简单的用户认证功能，就避免引入复杂的、过多的功能模块或不必要的抽象层次。只需要实现基础的登录、注册等功能，避免设计过度的用户管理模块，直到真正需要时再扩展。
2. 鼓励使用 **CRC 卡片**（Class-Responsibility-Collaborator，类 - 职责 - 协作卡片，用于梳理对象关系，详见第 8 章）。
	- **意思**：CRC 卡片是一种用于帮助开发人员分析和设计类和对象关系的工具。在 CRC 卡片中，每个卡片代表一个类，卡片内容包括该类的**职责**（Responsibility）和与其他类的**协作**（Collaborator）。这种方式帮助团队在设计阶段理解类之间的交互关系，从而使设计更加清晰和可扩展。
	- **示例**：比如设计一个“订单”类时，你可以创建一个 CRC 卡片，列出该类的职责（如管理订单、计算总价），并列出它需要与哪些类协作（如“用户”类、"支付"类）。这种方式帮助开发者聚焦于类的核心职责，并理解其与其他类的交互。
3. 针对复杂设计问题，建议创建 “探路解决方案”（spike solutions）—— 即设计原型，验证方案可行性。
4. 鼓励 “重构”（refactoring）—— 对程序内部设计进行迭代式优化，不改变外部功能，提升代码质量。

### （三）XP 编码（XP Coding）

1. 建议在编码前为用户故事编写单元测试（测试驱动开发思想）。
2. 鼓励 “结对编程”（pair programming）：两名开发人员共用一台电脑，一人编码、一人审查，定期轮换角色，减少缺陷。

### （四）XP 测试（XP Testing）

1. 所有单元测试需每日执行，确保现有功能不被破坏（持续验证）。
2. “验收测试” 由客户定义，用于验证软件是否满足客户可见的功能需求，通常与每个增量的交付同步进行。

### （五）XP 流程框架

（基于文档图示整理，核心流程链如下）：  
用户故事（user stories）→ 规划（planning）→ 迭代计划（iteration plan）→ 设计（design，含 CRC 卡片、探路解决方案、简洁设计）→ 编码（coding，含结对编程）→ 测试（test，含单元测试、验收测试）→ 软件增量（software increment）→ 计算项目速度（project velocity）→ 持续集成（continuous integration）→ 验收测试（acceptance testing）

## 八、工业级极限编程（Industrial XP, IXP）

IXP 在传统 XP 基础上，强化了管理参与、扩展了客户角色，并升级了技术实践，新增了 6 项核心实践：

#### 1. **就绪度评估（Readiness Assessment）**

- **目标**：在项目启动之前，评估团队的技术准备度、需求清晰度和其他资源的可用性，确保项目能够顺利启动并避免后续出现阻碍。
    
- **内容**：
    
    - 对团队的技能、经验进行评估，确保团队成员具备完成项目所需的能力。
        
    - 对技术栈、工具链和开发环境进行检查，确保项目的技术架构和基础设施能够支撑项目开发。
        
    - 对需求进行初步确认，确保业务目标、需求优先级以及客户的期望清晰明确。
        
- **重要性**：帮助识别潜在风险，避免项目启动后因为资源或需求问题导致的项目延误。
    

#### 2. **项目社区（Project Community）**

- **目标**：建立一个跨职能的团队协作社区，促进开发人员、业务人员、运维人员等多方协作，提高项目的可执行性和灵活性。
    
- **内容**：
    
    - **多方协作**：除了开发团队外，业务部门、运维团队和其他利益相关者也应积极参与到项目中，确保需求和技术的有效对接。
        
    - **持续沟通**：创建有效的沟通渠道，确保项目进度、需求变化、风险问题等都能及时反馈并处理。
        
- **重要性**：增强不同团队之间的合作和信息共享，提高项目响应速度和敏捷性。
    

#### 3. **项目章程（Project Chartering）**

- **目标**：明确项目的目标、范围和各利益相关方（stakeholders）的责任，为项目提供一个正式的指导文件。
    
- **内容**：
    
    - 设定项目的整体目标和愿景，定义关键成果和可交付成果。
        
    - 确定各利益相关方的责任和角色，包括客户、开发团队、业务部门等，明确他们的职责和期望。
        
    - 制定项目的范围和时间线，确保所有参与者对项目的期望一致。
        
- **重要性**：项目章程为项目提供了清晰的方向，确保各方理解项目目标和责任，并能够共同朝着目标努力。
    

#### 4. **测试驱动管理（Test Driven Management）**

- **目标**：通过可量化的测试目标来驱动项目的管理决策，确保项目进展的可测量性和可控性。
    
- **内容**：
    
    - 对项目进行量化管理，制定明确的、可衡量的测试目标。
        
    - 通过测试驱动的方法来指导项目的各个环节，包括进度控制、风险管理、质量保证等。
        
    - 定期检查项目是否达到了预设的测试目标，并根据结果做出调整。
        
- **重要性**：这种管理方式通过定量化目标和持续反馈来确保项目能够按时按质完成，减少了管理中的主观偏差。
    

#### 5. **回顾会议（Retrospectives）**

- **目标**：定期进行项目回顾，反思项目进展中的问题，并为下一阶段的工作提供改进建议。
- **内容**：
    - 团队定期回顾项目中的问题、挑战和成功经验，分析问题产生的根本原因。
    - 总结哪些实践有效，哪些需要改进，制定具体的行动计划来改进开发流程和团队协作。
    - 在每个迭代或阶段结束后进行回顾，确保项目在过程中不断优化和调整。
- **重要性**：回顾会议为项目团队提供了持续优化的机制，能够帮助团队从过去的经验中学习，提升团队的执行力和效率。
    

#### 6. **持续学习（Continuous Learning）**

- **目标**：通过不断的培训和知识共享来提升团队的能力，保持团队的技术领先性和适应变化的能力。
    
- **内容**：
    
    - 组织定期的培训和知识分享会，让团队成员了解新的技术、工具和最佳实践。
        
    - 通过外部学习资源、在线课程、行业会议等形式，增强团队成员的技术能力和行业知识。
        
    - 鼓励团队成员自主学习和技能提升，提供学习的时间和资源。
        
- **重要性**：持续学习能够提高团队的创新能力和解决问题的能力，确保团队能够适应快速变化的技术和业务需求。

## 九、Scrum 框架

Scrum 由施瓦布（Schwaber）和比德尔（Beedle）最初提出，核心是通过 “冲刺”（sprint）实现增量交付。

### （一）Scrum 核心特征

1. 开发工作被划分为 “数据包”（packets，即具体任务单元）。
2. 测试与文档工作随产品构建同步进行，不滞后于开发。
3. 工作在 “冲刺”（sprints，通常为 2-4 周的固定周期）中开展，任务来源于 “需求待办列表”（backlog，即未完成的需求清单）。
4. 会议时间极短（通常 15 分钟以内），有时站立召开（“每日站会”），避免冗长讨论。
5. 每个冲刺结束后，向客户交付 “演示版”（demos），并在固定时间盒（time-box）内收集反馈。

### （二）Scrum 流程（基于文档图示核心逻辑）

1. 每日站会（Daily Scrum）：团队成员同步 3 个问题 —— 昨天完成了什么？今天要做什么？有什么障碍？（会议时长严格控制）。
2. 冲刺规划（Sprint Planning）：从需求待办列表中选取冲刺周期内的任务，明确目标。
3. 冲刺执行（Sprint Execution）：团队自组织完成任务，每日同步进度。
4. 冲刺评审（Sprint Review）：冲刺结束后，向客户演示新功能，收集反馈。
5. 冲刺回顾（Sprint Retrospective）：团队反思冲刺过程中的问题，优化下一轮冲刺流程。

## 十、动态系统开发方法（Dynamic Systems Development Method, DSDM）

DSDM 由 DSDM 联盟（[www.dsdm.org](https://www.dsdm.org/)）推广，在流程上与 XP 相似，核心以 “业务适用性” 为验收标准，包含 9 项指导原则。

### （一）DSDM 指导原则

1. 用户的积极参与至关重要。
2. DSDM 团队必须被赋予决策权限。
3. 重点是频繁交付产品增量。
4. “业务适用性” 是验收交付物的核心标准（即满足业务需求即可，无需过度追求技术完美）。
5. 必须通过迭代式增量开发逐步收敛到准确的业务解决方案。
6. 开发过程中的所有变更均可回溯（可逆）。
7. 需求仅在高层级进行基线化（细节可在迭代中调整）。
8. 测试贯穿整个生命周期，而非仅在开发后期进行。

### （二）DSDM 生命周期（基于文档图示整理）

1. 可行性研究（Feasibility Study）→ 2. 业务分析（Business Study）→ 3. 确定功能模型与计划（Agree Plan & Identify Functional Model）→ 4. 迭代实现（Iterative Implementation，含设计原型、用户评审、原型优化）→ 5. 部署与验收（Deployment & User Approval）。  
    （注：每个阶段均包含 “评审” 环节，确保与业务目标对齐）

## 十一、敏捷建模（Agile Modeling）

敏捷建模由斯科特・安布勒（Scott Ambler）提出，核心是通过 “轻量级建模” 支持开发，而非创建详尽的文档，包含 6 项核心原则：

  

1. 建模需有明确目的（Model with a purpose）：仅为解决具体问题建模，避免无意义的文档。
2. 使用多种模型（Use multiple models）：根据需求选择合适的模型（如用例图、类图、流程图等），而非依赖单一模型。
3. 轻量化建模（Travel light）：模型仅保留核心信息，避免冗余细节，可随时丢弃无用模型。
4. 内容重于形式（Content is more important than representation）：关注模型传达的需求 / 设计逻辑，而非格式美观。
5. 熟悉模型与工具（Know the models and the tools）：了解各类模型的适用场景及建模工具的使用方法。
6. 本地化适配（Adapt locally）：根据团队、项目特点调整建模方式，不固守统一标准。

## 十二、敏捷统一过程（Agile Unified Process, AUP）

AUP 是统一过程（UP）的敏捷化版本，核心以 “迭代” 为基础，每个迭代周期均涵盖以下 6 项活动，确保流程的完整性与灵活性：

  

1. 建模（Modeling）：梳理需求、设计架构与组件。
2. 实现（Implementation）：编码与集成。
3. 测试（Testing）：单元测试、集成测试、验收测试。
4. 部署（Deployment）：交付软件增量，收集用户反馈。
5. 配置与项目管理（Configuration and project management）：管理版本、进度、风险。
6. 环境管理（Environment management）：维护开发、测试所需的工具与环境。