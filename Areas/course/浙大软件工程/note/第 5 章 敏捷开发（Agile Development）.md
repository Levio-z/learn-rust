# 第 5 章 敏捷开发（Agile Development）

## 一、敏捷软件开发宣言（The Manifesto for Agile Software Development）

我们正在通过实践以及帮助他人实践，探索更好的软件开发方式。通过这项工作，我们形成了如下价值观：

  

- **个体与交互** 高于 流程与工具
- **可工作的软件** 高于 详尽的文档
- **客户协作** 高于 合同谈判
- **响应变化** 高于 遵循计划

  

也就是说，尽管右侧的内容也有价值，但我们更看重左侧的内容。

  

—— 肯特・贝克（Kent Beck）等人

## 二、什么是 “敏捷性”（Agility）？

敏捷性的核心特征的包括：

  

- 对变化的有效（快速且适应性强的）响应能力
- 所有利益相关者之间的有效沟通
- 让客户参与到团队中
- 合理组织团队，确保团队能自主掌控所执行的工作

  

最终实现：**软件的快速、增量式交付**

## 三、敏捷性与变更成本（Agility and the Cost of Change）

| 流程类型   | 变更成本特征             |
| ------ | ------------------ |
| 传统软件流程 | 随着开发进度推进，变更成本急剧上升  |
| 敏捷流程   | 变更成本增长平缓，始终保持在较低水平 |
| 理想敏捷流程 | 变更成本几乎稳定，不受开发进度影响  |

  

（注：文档中包含对应成本变化趋势图，核心逻辑为：敏捷流程通过迭代式开发和早期反馈，降低了后期变更的复杂度与成本）

## 四、敏捷流程的核心特征（An Agile Process）

1. 由客户对需求的描述（场景）驱动
2. 承认计划的时效性短（需持续调整）
3. 以迭代方式开发软件，重点强调构建活动
4. 交付多个 “软件增量”（每次迭代交付部分可用功能）
5. 能根据变更灵活调整

## 五、敏捷原则（Agility Principles）

### （一）敏捷原则 I

1. 最高优先级是通过早期和持续交付有价值的软件来满足客户需求。
2. 欢迎变更需求，即使在开发后期也不例外。敏捷流程能利用变更为客户创造竞争优势。
3. 频繁交付可工作的软件，周期从几周到几个月不等，且倾向于更短的周期。
4. 业务人员与开发人员必须在整个项目期间每日协作。
5. 围绕有动力的个体构建项目，为他们提供所需的环境和支持，并信任他们能完成工作。
6. 团队内部及团队间传递信息最有效、最高效的方式是面对面沟通。

### （二）敏捷原则 II

7. 可工作的软件是衡量进度的首要标准。
8. 敏捷流程倡导可持续开发。发起人、开发人员和用户应能长期保持稳定的工作节奏。
9. 持续关注技术卓越和良好设计，可增强敏捷性。
10. 简洁性 —— 即最大化未完成工作的艺术 —— 至关重要。
11. 最佳的架构、需求和设计来自自组织团队。
12. 团队应定期反思如何提高效率，并据此调整自身行为。

## 六、人的因素（Human Factors）

- 敏捷流程需**适配人员与团队的需求**，而非让人员 / 团队适配流程。
- 敏捷团队及成员需具备以下关键特质：
    - 能力（Competence）：具备完成工作所需的技术与业务能力
    - 共同目标（Common focus）：团队成员对齐核心目标
    - 协作（Collaboration）：主动配合、共享信息
    - 决策能力（Decision-making ability）：能快速做出合理决策
    - 模糊问题解决能力（Fuzzy problem-solving ability）：应对需求不明确的场景
    - 相互信任与尊重（Mutual trust and respect）：建立高效团队氛围
    - 自组织（Self-organization）：自主分配任务、管理进度

## 七、极限编程（Extreme Programming, XP）

极限编程是应用最广泛的敏捷流程，由肯特・贝克（Kent Beck）最初提出，核心涵盖规划、设计、编码、测试四大环节。

### （一）XP 规划（XP Planning）

1. 从创建 “用户故事”（user stories）开始（用户以自然语言描述需求场景）。
2. 敏捷团队评估每个用户故事的成本（如工作量）。
3. 将用户故事分组，形成可交付的增量。
4. 确定增量的交付日期并做出承诺。
5. 完成第一个增量后，计算 “项目速度”（project velocity，即团队单位时间内完成的工作量），用于确定后续增量的交付日期。

### （二）XP 设计（XP Design）

1. 遵循 **KIS 原则**（Keep It Simple，保持简洁），避免过度设计。
2. 鼓励使用 **CRC 卡片**（Class-Responsibility-Collaborator，类 - 职责 - 协作卡片，用于梳理对象关系，详见第 8 章）。
3. 针对复杂设计问题，建议创建 “探路解决方案”（spike solutions）—— 即设计原型，验证方案可行性。
4. 鼓励 “重构”（refactoring）—— 对程序内部设计进行迭代式优化，不改变外部功能，提升代码质量。

### （三）XP 编码（XP Coding）

1. 建议在编码前为用户故事编写单元测试（测试驱动开发思想）。
2. 鼓励 “结对编程”（pair programming）：两名开发人员共用一台电脑，一人编码、一人审查，定期轮换角色，减少缺陷。

### （四）XP 测试（XP Testing）

1. 所有单元测试需每日执行，确保现有功能不被破坏（持续验证）。
2. “验收测试” 由客户定义，用于验证软件是否满足客户可见的功能需求，通常与每个增量的交付同步进行。

### （五）XP 流程框架

（基于文档图示整理，核心流程链如下）：  
用户故事（user stories）→ 规划（planning）→ 迭代计划（iteration plan）→ 设计（design，含 CRC 卡片、探路解决方案、简洁设计）→ 编码（coding，含结对编程）→ 测试（test，含单元测试、验收测试）→ 软件增量（software increment）→ 计算项目速度（project velocity）→ 持续集成（continuous integration）→ 验收测试（acceptance testing）

## 八、工业级极限编程（Industrial XP, IXP）

IXP 在传统 XP 基础上，强化了管理参与、扩展了客户角色，并升级了技术实践，新增了 6 项核心实践：

  

1. **就绪度评估（Readiness assessment）**：项目启动前评估团队、技术、需求的就绪状态。
2. **项目社区（Project community）**：构建包含开发、业务、运维等多方的协作社区。
3. **项目章程（Project chartering）**：明确项目目标、范围、 stakeholders 责任，形成正式章程。
4. **测试驱动管理（Test driven management）**：以可量化的测试目标驱动项目管理决策。
5. **回顾会议（Retrospectives）**：定期反思项目过程中的问题与改进点，优化流程。
6. **持续学习（Continuous learning）**：通过培训、知识共享等方式，提升团队能力。

## 九、Scrum 框架

Scrum 由施瓦布（Schwaber）和比德尔（Beedle）最初提出，核心是通过 “冲刺”（sprint）实现增量交付。

### （一）Scrum 核心特征

1. 开发工作被划分为 “数据包”（packets，即具体任务单元）。
2. 测试与文档工作随产品构建同步进行，不滞后于开发。
3. 工作在 “冲刺”（sprints，通常为 2-4 周的固定周期）中开展，任务来源于 “需求待办列表”（backlog，即未完成的需求清单）。
4. 会议时间极短（通常 15 分钟以内），有时站立召开（“每日站会”），避免冗长讨论。
5. 每个冲刺结束后，向客户交付 “演示版”（demos），并在固定时间盒（time-box）内收集反馈。

### （二）Scrum 流程（基于文档图示核心逻辑）

1. 每日站会（Daily Scrum）：团队成员同步 3 个问题 —— 昨天完成了什么？今天要做什么？有什么障碍？（会议时长严格控制）。
2. 冲刺规划（Sprint Planning）：从需求待办列表中选取冲刺周期内的任务，明确目标。
3. 冲刺执行（Sprint Execution）：团队自组织完成任务，每日同步进度。
4. 冲刺评审（Sprint Review）：冲刺结束后，向客户演示新功能，收集反馈。
5. 冲刺回顾（Sprint Retrospective）：团队反思冲刺过程中的问题，优化下一轮冲刺流程。

## 十、动态系统开发方法（Dynamic Systems Development Method, DSDM）

DSDM 由 DSDM 联盟（[www.dsdm.org](https://www.dsdm.org/)）推广，在流程上与 XP 相似，核心以 “业务适用性” 为验收标准，包含 9 项指导原则。

### （一）DSDM 指导原则

1. 用户的积极参与至关重要。
2. DSDM 团队必须被赋予决策权限。
3. 重点是频繁交付产品增量。
4. “业务适用性” 是验收交付物的核心标准（即满足业务需求即可，无需过度追求技术完美）。
5. 必须通过迭代式增量开发逐步收敛到准确的业务解决方案。
6. 开发过程中的所有变更均可回溯（可逆）。
7. 需求仅在高层级进行基线化（细节可在迭代中调整）。
8. 测试贯穿整个生命周期，而非仅在开发后期进行。

### （二）DSDM 生命周期（基于文档图示整理）

1. 可行性研究（Feasibility Study）→ 2. 业务分析（Business Study）→ 3. 确定功能模型与计划（Agree Plan & Identify Functional Model）→ 4. 迭代实现（Iterative Implementation，含设计原型、用户评审、原型优化）→ 5. 部署与验收（Deployment & User Approval）。  
    （注：每个阶段均包含 “评审” 环节，确保与业务目标对齐）

## 十一、敏捷建模（Agile Modeling）

敏捷建模由斯科特・安布勒（Scott Ambler）提出，核心是通过 “轻量级建模” 支持开发，而非创建详尽的文档，包含 6 项核心原则：

  

1. 建模需有明确目的（Model with a purpose）：仅为解决具体问题建模，避免无意义的文档。
2. 使用多种模型（Use multiple models）：根据需求选择合适的模型（如用例图、类图、流程图等），而非依赖单一模型。
3. 轻量化建模（Travel light）：模型仅保留核心信息，避免冗余细节，可随时丢弃无用模型。
4. 内容重于形式（Content is more important than representation）：关注模型传达的需求 / 设计逻辑，而非格式美观。
5. 熟悉模型与工具（Know the models and the tools）：了解各类模型的适用场景及建模工具的使用方法。
6. 本地化适配（Adapt locally）：根据团队、项目特点调整建模方式，不固守统一标准。

## 十二、敏捷统一过程（Agile Unified Process, AUP）

AUP 是统一过程（UP）的敏捷化版本，核心以 “迭代” 为基础，每个迭代周期均涵盖以下 6 项活动，确保流程的完整性与灵活性：

  

1. 建模（Modeling）：梳理需求、设计架构与组件。
2. 实现（Implementation）：编码与集成。
3. 测试（Testing）：单元测试、集成测试、验收测试。
4. 部署（Deployment）：交付软件增量，收集用户反馈。
5. 配置与项目管理（Configuration and project management）：管理版本、进度、风险。
6. 环境管理（Environment management）：维护开发、测试所需的工具与环境。