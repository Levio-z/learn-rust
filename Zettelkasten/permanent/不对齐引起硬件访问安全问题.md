---
title: 某些架构的严格对齐要求是什么意思
tags:
  - permanent
---
## 1. 核心观点  
> “严格对齐要求”是指：**CPU 硬件本身禁止未对齐访问，一旦遇到未对齐的内存访问指令，就会直接抛出异常（fault/trap）**，而不是像 x86 那样还能“忍受”并通过多次总线访问来修正。

## 2. 背景/出处  
- 来源：
- 引文/摘要：  
  - 例子：ARM 架构（经典 ARMv5 / ARMv6）
	  - 在这些架构里：
		- **`LDR r0, [addr]`**（加载 32 位数据）
		    - `addr` 必须是 **4 的倍数**（4 字节对齐）。
		    - 如果 `addr % 4 != 0`，CPU **触发数据对齐异常（Alignment Fault）**，程序直接崩溃，除非操作系统特别捕捉并模拟。
		- **`LDRD`（加载 64 位数据）**
		    - `addr` 必须是 **8 的倍数**。
		    - 否则直接 fault。
- 在 **x86 / x86_64** 上，未对齐访问 **不会报错**，但可能效率低：
	- mov eax, `[0x1002]`   ; 加载 32 位整数，但地址不是 4 的倍数
	
## 3. 展开说明  
- **ARM（旧架构）、MIPS、SPARC 等**：硬件简单、低功耗 → 不做未对齐拼接 → 直接报错，交给操作系统决定是否模拟。
- **x86**：为了兼容性和易用性 → 硬件内部帮你做拼接 → 容忍未对齐，但性能差。  

## 4. 与其他卡片的关联  
- 前置卡片：
- 后续卡片：
- 相似主题：[字段的内存对齐](字段的内存对齐.md)

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
- [ ] 深入阅读 xxx  
- [ ] 验证这个观点的边界条件  
