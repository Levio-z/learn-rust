---
title: Rust-模式匹配-不转移所有权
tags:
  - permanent
---
## 1. 核心观点  
> ref于匹配时**借用结构体的字段而不是获取字段的所有权**。默认情况下，Rust 的match语句会将匹配的值移动到目标变量中。如果你想保留原始值的所有权，而不是将其移动到变量中，就需要使用ref。

## 2. 背景/出处  
- 来源：
- 引文/摘要：  
  - …  
  - …  

## 3. 展开说明  
- **借用引用**：`ref p` 允许我们仅借用值，确保值不会被移动。`p` 在这个例子中是 `&Point`，即 `Point` 的引用，这样我们可以访问 `x` 和 `y` 字段，同时保留原始值。
	- **如果不使用 `ref`，** `p` 将会是一个 `Point` 类型而非 `&Point` 类型。由于 `Point` 是一个结构体，默认情况下，在 `match` 解构时，它的所有权会被移动到 `p` 中，这样 `y` 就失去了 `Point`，你也无法再访问 `y`。
## 4. 与其他卡片的关联  
- 前置卡片：
- 后续卡片：
- 相似主题：

## 5. 应用/启发  
- 可以如何应用在工作、学习、生活中  
- 引发的思考与问题  

## 6. 待办/进一步探索  
- [ ] 深入阅读 xxx  
- [ ] 验证这个观点的边界条件  
